(function(){var $JSCompiler_prototypeAlias$$;function $tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($component$jscomp$4$$,$fallback$$){$fallback$$=void 0===$fallback$$?"":$fallback$$;try{return decodeURIComponent($component$jscomp$4$$)}catch($e$jscomp$4$$){return $fallback$$}};var $regex$$module$src$url_parse_query_string$$=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;
function $parseQueryString_$$module$src$url_parse_query_string$$($queryString$$){var $params$jscomp$1$$=Object.create(null);if(!$queryString$$)return $params$jscomp$1$$;for(var $match$$;$match$$=$regex$$module$src$url_parse_query_string$$.exec($queryString$$);){var $name$jscomp$61$$=$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[1],$match$$[1]),$value$jscomp$69$$=$match$$[2]?$tryDecodeUriComponent_$$module$src$url_try_decode_uri_component$$($match$$[2],$match$$[2]):"";
$params$jscomp$1$$[$name$jscomp$61$$]=$value$jscomp$69$$}return $params$jscomp$1$$};var $rtvVersion$$module$src$mode$$="";
function $getMode$$module$src$mode$$($opt_win$$){var $win$$=$opt_win$$||self,$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$;if($win$$.AMP_MODE)$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$=$win$$.AMP_MODE;else{$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$=$win$$;var $JSCompiler_runningTests$jscomp$inline_42$$=!(!$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.AMP_TEST&&!$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.__karma__),$JSCompiler_isLocalDev$jscomp$inline_43$$=
!(!self.AMP_CONFIG||!self.AMP_CONFIG.localDev)||$JSCompiler_runningTests$jscomp$inline_42$$,$JSCompiler_hashQuery$jscomp$inline_44$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.location.originalHash||$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.location.hash),$JSCompiler_searchQuery$jscomp$inline_45$$=$parseQueryString_$$module$src$url_parse_query_string$$($JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.location.search);
$rtvVersion$$module$src$mode$$||($rtvVersion$$module$src$mode$$=$JSCompiler_isLocalDev$jscomp$inline_43$$?"1533329045830":$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG&&$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG.v?$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.AMP_CONFIG.v:"011533329045830");$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$=$win$$.AMP_MODE={localDev:$JSCompiler_isLocalDev$jscomp$inline_43$$,
development:!("1"!=$JSCompiler_hashQuery$jscomp$inline_44$$.development&&!$JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$.AMP_DEV_MODE),examiner:"2"==$JSCompiler_hashQuery$jscomp$inline_44$$.development,filter:$JSCompiler_hashQuery$jscomp$inline_44$$.filter,geoOverride:$JSCompiler_hashQuery$jscomp$inline_44$$["amp-geo"],minified:!0,lite:void 0!=$JSCompiler_searchQuery$jscomp$inline_45$$.amp_lite,test:$JSCompiler_runningTests$jscomp$inline_42$$,log:$JSCompiler_hashQuery$jscomp$inline_44$$.log,
version:"1533329045830",rtvVersion:$rtvVersion$$module$src$mode$$}}return $JSCompiler_temp$jscomp$12_JSCompiler_win$jscomp$inline_38$$};function $setReportError$$module$src$log$$(){var $fn$$=$reportError$$module$src$error$$;self.reportError=$fn$$}
function $Log$$module$src$log$$($win$jscomp$4$$,$levelFunc$$,$opt_suffix$$){this.win=$getMode$$module$src$mode$$().test&&$win$jscomp$4$$.AMP_TEST_IFRAME?$win$jscomp$4$$.parent:$win$jscomp$4$$;this.$levelFunc_$=$levelFunc$$;this.$level_$=this.win.console&&this.win.console.log&&"0"!=$getMode$$module$src$mode$$().log?$getMode$$module$src$mode$$().test&&this.win.ENABLE_LOG?4:$getMode$$module$src$mode$$().localDev&&!$getMode$$module$src$mode$$().log?3:this.$levelFunc_$({localDev:$getMode$$module$src$mode$$(void 0).localDev,
development:$getMode$$module$src$mode$$(void 0).development,filter:$getMode$$module$src$mode$$(void 0).filter,minified:$getMode$$module$src$mode$$(void 0).minified,lite:$getMode$$module$src$mode$$(void 0).lite,test:$getMode$$module$src$mode$$(void 0).test,log:$getMode$$module$src$mode$$(void 0).log,version:$getMode$$module$src$mode$$(void 0).version,rtvVersion:$getMode$$module$src$mode$$(void 0).rtvVersion}):0;this.$suffix_$=$opt_suffix$$||""}
function $JSCompiler_StaticMethods_msg_$$($JSCompiler_StaticMethods_msg_$self$$,$tag$$,$level$jscomp$8$$,$messages$$){if(0!=$JSCompiler_StaticMethods_msg_$self$$.$level_$){var $fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.log;"ERROR"==$level$jscomp$8$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.error||$fn$jscomp$1$$:"INFO"==$level$jscomp$8$$?$fn$jscomp$1$$=$JSCompiler_StaticMethods_msg_$self$$.win.console.info||$fn$jscomp$1$$:"WARN"==$level$jscomp$8$$&&($fn$jscomp$1$$=
$JSCompiler_StaticMethods_msg_$self$$.win.console.warn||$fn$jscomp$1$$);$getMode$$module$src$mode$$().localDev&&$messages$$.unshift("["+$tag$$+"]");$fn$jscomp$1$$.apply($JSCompiler_StaticMethods_msg_$self$$.win.console,$messages$$)}}$JSCompiler_prototypeAlias$$=$Log$$module$src$log$$.prototype;$JSCompiler_prototypeAlias$$.isEnabled=function(){return 0!=this.$level_$};
$JSCompiler_prototypeAlias$$.fine=function($tag$jscomp$1$$,$var_args$jscomp$45$$){4<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$1$$,"FINE",Array.prototype.slice.call(arguments,1))};$JSCompiler_prototypeAlias$$.info=function($tag$jscomp$2$$,$var_args$jscomp$46$$){3<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$2$$,"INFO",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.warn=function($tag$jscomp$3$$,$var_args$jscomp$47$$){2<=this.$level_$&&$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$3$$,"WARN",Array.prototype.slice.call(arguments,1))};
$JSCompiler_prototypeAlias$$.$error_$=function($tag$jscomp$4$$,$var_args$jscomp$48$$){if(1<=this.$level_$)$JSCompiler_StaticMethods_msg_$$(this,$tag$jscomp$4$$,"ERROR",Array.prototype.slice.call(arguments,1));else{var $error$jscomp$2$$=$createErrorVargs$$module$src$log$$.apply(null,Array.prototype.slice.call(arguments,1));$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$2$$);return $error$jscomp$2$$}};
$JSCompiler_prototypeAlias$$.error=function($tag$jscomp$5$$,$var_args$jscomp$49$$){var $error$jscomp$3$$=this.$error_$.apply(this,arguments);$error$jscomp$3$$&&($error$jscomp$3$$.name=$tag$jscomp$5$$||$error$jscomp$3$$.name,self.reportError($error$jscomp$3$$))};$JSCompiler_prototypeAlias$$.expectedError=function($unusedTag$$,$var_args$jscomp$50$$){var $error$jscomp$4$$=this.$error_$.apply(this,arguments);$error$jscomp$4$$&&($error$jscomp$4$$.expected=!0,self.reportError($error$jscomp$4$$))};
$JSCompiler_prototypeAlias$$.createError=function($var_args$jscomp$51$$){var $error$jscomp$5$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$5$$);return $error$jscomp$5$$};
$JSCompiler_prototypeAlias$$.createExpectedError=function($var_args$jscomp$52$$){var $error$jscomp$6$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);$JSCompiler_StaticMethods_prepareError_$$(this,$error$jscomp$6$$);$error$jscomp$6$$.expected=!0;return $error$jscomp$6$$};
$JSCompiler_prototypeAlias$$.assert=function($shouldBeTrueish$$,$opt_message$jscomp$7$$,$var_args$jscomp$53$$){var $firstElement$$;if(!$shouldBeTrueish$$){var $splitMessage$$=($opt_message$jscomp$7$$||"Assertion failed").split("%s"),$e$jscomp$5_first$jscomp$3_i$jscomp$4$$=$splitMessage$$.shift(),$formatted$$=$e$jscomp$5_first$jscomp$3_i$jscomp$4$$,$messageArray$$=[];""!=$e$jscomp$5_first$jscomp$3_i$jscomp$4$$&&$messageArray$$.push($e$jscomp$5_first$jscomp$3_i$jscomp$4$$);for($e$jscomp$5_first$jscomp$3_i$jscomp$4$$=
2;$e$jscomp$5_first$jscomp$3_i$jscomp$4$$<arguments.length;$e$jscomp$5_first$jscomp$3_i$jscomp$4$$++){var $val$$=arguments[$e$jscomp$5_first$jscomp$3_i$jscomp$4$$];$val$$&&$val$$.tagName&&($firstElement$$=$val$$);var $nextConstant$$=$splitMessage$$.shift();$messageArray$$.push($val$$);var $JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$=$nextConstant$$.trim();""!=$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$&&$messageArray$$.push($JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$);
$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$=$val$$;$formatted$$+=($JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$&&1==$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$.nodeType?$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$.tagName.toLowerCase()+($JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$.id?"#"+$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$.id:""):$JSCompiler_val$jscomp$inline_51_JSCompiler_val$jscomp$inline_53$$)+
$nextConstant$$}$e$jscomp$5_first$jscomp$3_i$jscomp$4$$=Error($formatted$$);$e$jscomp$5_first$jscomp$3_i$jscomp$4$$.fromAssert=!0;$e$jscomp$5_first$jscomp$3_i$jscomp$4$$.associatedElement=$firstElement$$;$e$jscomp$5_first$jscomp$3_i$jscomp$4$$.messageArray=$messageArray$$;$JSCompiler_StaticMethods_prepareError_$$(this,$e$jscomp$5_first$jscomp$3_i$jscomp$4$$);self.reportError($e$jscomp$5_first$jscomp$3_i$jscomp$4$$);throw $e$jscomp$5_first$jscomp$3_i$jscomp$4$$;}return $shouldBeTrueish$$};
$JSCompiler_prototypeAlias$$.assertElement=function($shouldBeElement$$,$opt_message$jscomp$8$$){this.assert($shouldBeElement$$&&1==$shouldBeElement$$.nodeType,($opt_message$jscomp$8$$||"Element expected")+": %s",$shouldBeElement$$);return $shouldBeElement$$};$JSCompiler_prototypeAlias$$.assertString=function($shouldBeString$$,$opt_message$jscomp$9$$){this.assert("string"==typeof $shouldBeString$$,($opt_message$jscomp$9$$||"String expected")+": %s",$shouldBeString$$);return $shouldBeString$$};
$JSCompiler_prototypeAlias$$.assertNumber=function($shouldBeNumber$$,$opt_message$jscomp$10$$){this.assert("number"==typeof $shouldBeNumber$$,($opt_message$jscomp$10$$||"Number expected")+": %s",$shouldBeNumber$$);return $shouldBeNumber$$};$JSCompiler_prototypeAlias$$.assertBoolean=function($shouldBeBoolean$$,$opt_message$jscomp$11$$){this.assert(!!$shouldBeBoolean$$===$shouldBeBoolean$$,($opt_message$jscomp$11$$||"Boolean expected")+": %s",$shouldBeBoolean$$);return $shouldBeBoolean$$};
$JSCompiler_prototypeAlias$$.assertEnumValue=function($JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$,$s$jscomp$3$$,$opt_enumName$$){a:{for(var $JSCompiler_k$jscomp$inline_57$$ in $JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$)if($JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$[$JSCompiler_k$jscomp$inline_57$$]===$s$jscomp$3$$){$JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$=!0;break a}$JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$=!1}if($JSCompiler_inline_result$jscomp$14_enumObj$jscomp$1$$)return $s$jscomp$3$$;
this.assert(!1,'Unknown %s value: "%s"',$opt_enumName$$||"enum",$s$jscomp$3$$)};
function $JSCompiler_StaticMethods_prepareError_$$($JSCompiler_StaticMethods_prepareError_$self$$,$error$jscomp$7$$){$error$jscomp$7$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$7$$);$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$?$error$jscomp$7$$.message?-1==$error$jscomp$7$$.message.indexOf($JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$)&&($error$jscomp$7$$.message+=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$):$error$jscomp$7$$.message=$JSCompiler_StaticMethods_prepareError_$self$$.$suffix_$:
0<=$error$jscomp$7$$.message.indexOf("\u200b\u200b\u200b")&&($error$jscomp$7$$.message=$error$jscomp$7$$.message.replace("\u200b\u200b\u200b",""))}
function $duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$8$$){var $e$jscomp$6_message$jscomp$24$$=$error$jscomp$8$$.message,$test$$=String(Math.random());$error$jscomp$8$$.message=$test$$;if($error$jscomp$8$$.message===$test$$)return $error$jscomp$8$$.message=$e$jscomp$6_message$jscomp$24$$,$error$jscomp$8$$;var $e$jscomp$6_message$jscomp$24$$=Error($error$jscomp$8$$.message),$prop$jscomp$4$$;for($prop$jscomp$4$$ in $error$jscomp$8$$)$e$jscomp$6_message$jscomp$24$$[$prop$jscomp$4$$]=$error$jscomp$8$$[$prop$jscomp$4$$];
$e$jscomp$6_message$jscomp$24$$.stack=$error$jscomp$8$$.stack;return $e$jscomp$6_message$jscomp$24$$}
function $createErrorVargs$$module$src$log$$($var_args$jscomp$54$$){for(var $error$jscomp$9$$=null,$message$jscomp$25$$="",$i$jscomp$5$$=0;$i$jscomp$5$$<arguments.length;$i$jscomp$5$$++){var $arg$jscomp$6$$=arguments[$i$jscomp$5$$];$arg$jscomp$6$$ instanceof Error&&!$error$jscomp$9$$?$error$jscomp$9$$=$duplicateErrorIfNecessary$$module$src$log$$($arg$jscomp$6$$):($message$jscomp$25$$&&($message$jscomp$25$$+=" "),$message$jscomp$25$$+=$arg$jscomp$6$$)}$error$jscomp$9$$?$message$jscomp$25$$&&($error$jscomp$9$$.message=
$message$jscomp$25$$+": "+$error$jscomp$9$$.message):$error$jscomp$9$$=Error($message$jscomp$25$$);return $error$jscomp$9$$}function $rethrowAsync$$module$src$log$$($var_args$jscomp$55$$){var $error$jscomp$10$$=$createErrorVargs$$module$src$log$$.apply(null,arguments);setTimeout(function(){self.reportError($error$jscomp$10$$);throw $error$jscomp$10$$;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var $logs$$module$src$log$$=self.log,$logConstructor$$module$src$log$$=null;
function $user$$module$src$log$$(){$logs$$module$src$log$$.user||($logs$$module$src$log$$.user=$getUserLogger$$module$src$log$$());return $logs$$module$src$log$$.user}
function $getUserLogger$$module$src$log$$(){var $suffix$$="\u200b\u200b\u200b";if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return new $logConstructor$$module$src$log$$(self,function($suffix$$){var $mode$jscomp$10$$=parseInt($suffix$$.log,10);return $suffix$$.development||1<=$mode$jscomp$10$$?4:2},$suffix$$)}
function $dev$$module$src$log$$(){if($logs$$module$src$log$$.dev)return $logs$$module$src$log$$.dev;if(!$logConstructor$$module$src$log$$)throw Error("failed to call initLogConstructor");return $logs$$module$src$log$$.dev=new $logConstructor$$module$src$log$$(self,function($logNum$jscomp$1_mode$jscomp$11$$){$logNum$jscomp$1_mode$jscomp$11$$=parseInt($logNum$jscomp$1_mode$jscomp$11$$.log,10);return 3<=$logNum$jscomp$1_mode$jscomp$11$$?4:2<=$logNum$jscomp$1_mode$jscomp$11$$?3:0})};function $dict$$module$src$utils$object$$($opt_initial$jscomp$1$$){return $opt_initial$jscomp$1$$||{}};function $startsWith$$module$src$string$$($string$jscomp$6$$,$prefix$jscomp$2$$){return $prefix$jscomp$2$$.length>$string$jscomp$6$$.length?!1:0==$string$jscomp$6$$.lastIndexOf($prefix$jscomp$2$$,0)};var $env$$module$src$config$$=self.AMP_CONFIG||{},$urls$$module$src$config$$={thirdParty:$env$$module$src$config$$.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:$env$$module$src$config$$.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof $env$$module$src$config$$.thirdPartyFrameRegex?new RegExp($env$$module$src$config$$.thirdPartyFrameRegex):$env$$module$src$config$$.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:$env$$module$src$config$$.cdnUrl||
"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof $env$$module$src$config$$.cdnProxyRegex?new RegExp($env$$module$src$config$$.cdnProxyRegex):$env$$module$src$config$$.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:$env$$module$src$config$$.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:$env$$module$src$config$$.localDev||!1};function $LruCache$$module$src$utils$lru_cache$$($capacity$$){this.$capacity_$=$capacity$$;this.$access_$=this.$size_$=0;this.$cache_$=Object.create(null)}$LruCache$$module$src$utils$lru_cache$$.prototype.has=function($key$jscomp$29$$){return!!this.$cache_$[$key$jscomp$29$$]};$LruCache$$module$src$utils$lru_cache$$.prototype.get=function($key$jscomp$30$$){var $cacheable$$=this.$cache_$[$key$jscomp$30$$];if($cacheable$$)return $cacheable$$.access=++this.$access_$,$cacheable$$.payload};
$LruCache$$module$src$utils$lru_cache$$.prototype.put=function($JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$,$payload$$){this.has($JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$)||this.$size_$++;this.$cache_$[$JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$]={payload:$payload$$,access:this.$access_$};if(!(this.$size_$<=this.$capacity_$)){$dev$$module$src$log$$().warn("lru-cache","Trimming LRU cache");$JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$=this.$cache_$;var $JSCompiler_oldest$jscomp$inline_64$$=
this.$access_$+1,$JSCompiler_oldestKey$jscomp$inline_65$$,$JSCompiler_key$jscomp$inline_66$$;for($JSCompiler_key$jscomp$inline_66$$ in $JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$){var $JSCompiler_access$jscomp$inline_67$$=$JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$[$JSCompiler_key$jscomp$inline_66$$].access;$JSCompiler_access$jscomp$inline_67$$<$JSCompiler_oldest$jscomp$inline_64$$&&($JSCompiler_oldest$jscomp$inline_64$$=$JSCompiler_access$jscomp$inline_67$$,$JSCompiler_oldestKey$jscomp$inline_65$$=
$JSCompiler_key$jscomp$inline_66$$)}void 0!==$JSCompiler_oldestKey$jscomp$inline_65$$&&(delete $JSCompiler_cache$jscomp$inline_63_key$jscomp$31$$[$JSCompiler_oldestKey$jscomp$inline_65$$],this.$size_$--)}};$dict$$module$src$utils$object$$({c:!0,v:!0,a:!0,ad:!0});var $a$$module$src$url$$,$cache$$module$src$url$$;function $Deferred$$module$src$utils$promise$$(){var $resolve$$,$reject$$;this.promise=new Promise(function($res$$,$rej$$){$resolve$$=$res$$;$reject$$=$rej$$});this.resolve=$resolve$$;this.reject=$reject$$};function $getService$$module$src$service$$($win$jscomp$29$$,$id$jscomp$11$$){$win$jscomp$29$$=$win$jscomp$29$$.__AMP_TOP||$win$jscomp$29$$;return $getServiceInternal$$module$src$service$$($win$jscomp$29$$,$id$jscomp$11$$)}
function $getServiceForDocDeprecated$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$,$id$jscomp$16$$){$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$);$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$=$getAmpdoc$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$);
$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$=$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$.isSingleDoc()?$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$.win:$JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$;return $getServiceInternal$$module$src$service$$($JSCompiler_ampdoc$jscomp$inline_70_ampdoc$jscomp$2_holder$jscomp$2_nodeOrDoc$jscomp$2$$,
$id$jscomp$16$$)}function $getAmpdoc$$module$src$service$$($nodeOrDoc$jscomp$3$$){return $nodeOrDoc$jscomp$3$$.nodeType?$getService$$module$src$service$$(($nodeOrDoc$jscomp$3$$.ownerDocument||$nodeOrDoc$jscomp$3$$).defaultView,"ampdoc").getAmpDoc($nodeOrDoc$jscomp$3$$):$nodeOrDoc$jscomp$3$$}
function $getServiceInternal$$module$src$service$$($holder$jscomp$3_s$jscomp$5$$,$id$jscomp$19$$){var $services$$=$getServices$$module$src$service$$($holder$jscomp$3_s$jscomp$5$$);$holder$jscomp$3_s$jscomp$5$$=$services$$[$id$jscomp$19$$];$holder$jscomp$3_s$jscomp$5$$.obj||($holder$jscomp$3_s$jscomp$5$$.obj=new $holder$jscomp$3_s$jscomp$5$$.ctor($holder$jscomp$3_s$jscomp$5$$.context),$holder$jscomp$3_s$jscomp$5$$.ctor=null,$holder$jscomp$3_s$jscomp$5$$.context=null,$holder$jscomp$3_s$jscomp$5$$.resolve&&
$holder$jscomp$3_s$jscomp$5$$.resolve($holder$jscomp$3_s$jscomp$5$$.obj));return $holder$jscomp$3_s$jscomp$5$$.obj}
function $getServicePromiseInternal$$module$src$service$$($holder$jscomp$5$$,$id$jscomp$21$$){var $JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$;($JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$=$getServices$$module$src$service$$($holder$jscomp$5$$)[$id$jscomp$21$$])?$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$.promise?$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$=
$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$.promise:($getServiceInternal$$module$src$service$$($holder$jscomp$5$$,$id$jscomp$21$$),$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$=$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$.promise=Promise.resolve($JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$.obj)):$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$=
null;var $cached$$=$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$;if($cached$$)return $cached$$;var $deferred$$=new $Deferred$$module$src$utils$promise$$,$$jscomp$destructuring$var5_resolve$jscomp$4$$=$deferred$$;$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$=$$jscomp$destructuring$var5_resolve$jscomp$4$$.promise;$$jscomp$destructuring$var5_resolve$jscomp$4$$=$$jscomp$destructuring$var5_resolve$jscomp$4$$.resolve;$getServices$$module$src$service$$($holder$jscomp$5$$)[$id$jscomp$21$$]=
{obj:null,promise:$JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$,resolve:$$jscomp$destructuring$var5_resolve$jscomp$4$$,context:null,ctor:null};return $JSCompiler_inline_result$jscomp$23_JSCompiler_s$jscomp$inline_75_promise$jscomp$1$$}function $getServices$$module$src$service$$($holder$jscomp$7$$){var $services$jscomp$4$$=$holder$jscomp$7$$.services;$services$jscomp$4$$||($services$jscomp$4$$=$holder$jscomp$7$$.services={});return $services$jscomp$4$$};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function $waitForChild$$module$src$dom$$($parent$jscomp$2$$,$checkFunc$$,$callback$jscomp$67$$){if($checkFunc$$($parent$jscomp$2$$))$callback$jscomp$67$$();else{var $win$jscomp$38$$=$parent$jscomp$2$$.ownerDocument.defaultView;if($win$jscomp$38$$.MutationObserver){var $observer$$=new $win$jscomp$38$$.MutationObserver(function(){$checkFunc$$($parent$jscomp$2$$)&&($observer$$.disconnect(),$callback$jscomp$67$$())});$observer$$.observe($parent$jscomp$2$$,{childList:!0})}else var $interval$$=$win$jscomp$38$$.setInterval(function(){$checkFunc$$($parent$jscomp$2$$)&&
($win$jscomp$38$$.clearInterval($interval$$),$callback$jscomp$67$$())},5)}}function $waitForBody$$module$src$dom$$($doc$jscomp$1$$,$callback$jscomp$68$$){$waitForChild$$module$src$dom$$($doc$jscomp$1$$.documentElement,function(){return!!$doc$jscomp$1$$.body},$callback$jscomp$68$$)};function $exponentialBackoff$$module$src$exponential_backoff$$(){var $getTimeout$$=$exponentialBackoffClock$$module$src$exponential_backoff$$();return function($work$$){return setTimeout($work$$,$getTimeout$$())}}
function $exponentialBackoffClock$$module$src$exponential_backoff$$(){var $count$jscomp$10$$=0;return function(){var $wait$$=Math.pow(1.5,$count$jscomp$10$$++),$JSCompiler_jitter$jscomp$inline_79_JSCompiler_opt_perc$jscomp$inline_78$$;$JSCompiler_jitter$jscomp$inline_79_JSCompiler_opt_perc$jscomp$inline_78$$=$wait$$*($JSCompiler_jitter$jscomp$inline_79_JSCompiler_opt_perc$jscomp$inline_78$$||.3)*Math.random();.5<Math.random()&&($JSCompiler_jitter$jscomp$inline_79_JSCompiler_opt_perc$jscomp$inline_78$$*=
-1);$wait$$+=$JSCompiler_jitter$jscomp$inline_79_JSCompiler_opt_perc$jscomp$inline_78$$;return 1E3*$wait$$}};var $propertyNameCache$$module$src$style$$,$vendorPrefixes$$module$src$style$$="Webkit webkit Moz moz ms O o".split(" ");
function $setStyles$$module$src$style$$($element$jscomp$36$$,$styles$jscomp$1$$){for(var $k$jscomp$4$$ in $styles$jscomp$1$$){var $JSCompiler_element$jscomp$inline_81$$=$element$jscomp$36$$,$JSCompiler_value$jscomp$inline_83$$=$styles$jscomp$1$$[$k$jscomp$4$$],$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$;$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$=$JSCompiler_element$jscomp$inline_81$$.style;var $JSCompiler_camelCase$jscomp$inline_139$$=
$k$jscomp$4$$;if($startsWith$$module$src$string$$($JSCompiler_camelCase$jscomp$inline_139$$,"--"))$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$=$JSCompiler_camelCase$jscomp$inline_139$$;else{$propertyNameCache$$module$src$style$$||($propertyNameCache$$module$src$style$$=Object.create(null));var $JSCompiler_propertyName$jscomp$inline_141$$=$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_139$$];if(!$JSCompiler_propertyName$jscomp$inline_141$$){$JSCompiler_propertyName$jscomp$inline_141$$=
$JSCompiler_camelCase$jscomp$inline_139$$;if(void 0===$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$[$JSCompiler_camelCase$jscomp$inline_139$$]){var $JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$=$JSCompiler_camelCase$jscomp$inline_139$$.charAt(0).toUpperCase()+$JSCompiler_camelCase$jscomp$inline_139$$.slice(1);b:{for(var $JSCompiler_i$jscomp$inline_156$$=0;$JSCompiler_i$jscomp$inline_156$$<$vendorPrefixes$$module$src$style$$.length;$JSCompiler_i$jscomp$inline_156$$++){var $JSCompiler_propertyName$jscomp$inline_157$$=
$vendorPrefixes$$module$src$style$$[$JSCompiler_i$jscomp$inline_156$$]+$JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$;if(void 0!==$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$[$JSCompiler_propertyName$jscomp$inline_157$$]){$JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$=$JSCompiler_propertyName$jscomp$inline_157$$;break b}}$JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$=
""}void 0!==$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$[$JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$]&&($JSCompiler_propertyName$jscomp$inline_141$$=$JSCompiler_prefixedPropertyName$jscomp$inline_143_JSCompiler_titleCase$jscomp$inline_142$$)}$propertyNameCache$$module$src$style$$[$JSCompiler_camelCase$jscomp$inline_139$$]=$JSCompiler_propertyName$jscomp$inline_141$$}$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$=
$JSCompiler_propertyName$jscomp$inline_141$$}$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$&&($JSCompiler_element$jscomp$inline_81$$.style[$JSCompiler_propertyName$jscomp$inline_86_JSCompiler_style$jscomp$inline_138$$]=$JSCompiler_value$jscomp$inline_83$$)}}
function $resetStyles$$module$src$style$$($element$jscomp$38$$){var $properties$$="position z-index left right top bottom width height margin border".split(" "),$styleObj$$={};$properties$$.forEach(function($element$jscomp$38$$){$styleObj$$[$element$jscomp$38$$]=null});$setStyles$$module$src$style$$($element$jscomp$38$$,$styleObj$$)};var $SERVICES$$module$src$render_delaying_services$$={"amp-dynamic-css-classes":"[custom-element=amp-dynamic-css-classes]",variant:"amp-experiment","amp-story":"amp-story[standalone]"};
function $waitForServices$$module$src$render_delaying_services$$($win$jscomp$63$$){var $promises$jscomp$1$$=$includedServices$$module$src$render_delaying_services$$($win$jscomp$63$$).map(function($promises$jscomp$1$$){return $getService$$module$src$service$$($win$jscomp$63$$,"timer").timeoutPromise(3E3,$getServicePromiseInternal$$module$src$service$$($win$jscomp$63$$,$promises$jscomp$1$$),"Render timeout waiting for service "+$promises$jscomp$1$$+" to be ready.")});return Promise.all($promises$jscomp$1$$)}
function $includedServices$$module$src$render_delaying_services$$($win$jscomp$65$$){var $doc$jscomp$6$$=$win$jscomp$65$$.document;return Object.keys($SERVICES$$module$src$render_delaying_services$$).filter(function($win$jscomp$65$$){return $doc$jscomp$6$$.querySelector($SERVICES$$module$src$render_delaying_services$$[$win$jscomp$65$$])})};function $makeBodyVisible$$module$src$style_installer$$($doc$jscomp$9$$){var $opt_waitForServices$$,$win$jscomp$66$$=$doc$jscomp$9$$.defaultView;if(!$win$jscomp$66$$.__AMP_BODY_VISIBLE){var $set$$=function(){$win$jscomp$66$$.__AMP_BODY_VISIBLE=!0;$setStyles$$module$src$style$$($doc$jscomp$9$$.body,{opacity:1,visibility:"visible",animation:"none"});try{$getServiceForDocDeprecated$$module$src$service$$($doc$jscomp$9$$,"resources").renderStarted()}catch($JSCompiler_e$jscomp$inline_89$$){}};try{$waitForBody$$module$src$dom$$($doc$jscomp$9$$,
function(){$win$jscomp$66$$.__AMP_BODY_VISIBLE||($win$jscomp$66$$.__AMP_BODY_VISIBLE=!0,$opt_waitForServices$$?$waitForServices$$module$src$render_delaying_services$$($win$jscomp$66$$).catch(function($doc$jscomp$9$$){$rethrowAsync$$module$src$log$$($doc$jscomp$9$$);return[]}).then(function($opt_waitForServices$$){$set$$();0<$opt_waitForServices$$.length&&$getServiceForDocDeprecated$$module$src$service$$($doc$jscomp$9$$,"resources").schedulePass(1,!0);try{var $services$jscomp$6$$=$getService$$module$src$service$$($win$jscomp$66$$,
"performance");$services$jscomp$6$$.tick("mbv");$services$jscomp$6$$.flush()}catch($e$jscomp$16$$){}}):$set$$())})}catch($e$jscomp$17$$){$set$$(),$rethrowAsync$$module$src$log$$($e$jscomp$17$$)}}};var $accumulatedErrorMessages$$module$src$error$$=self.AMPErrors||[];self.AMPErrors=$accumulatedErrorMessages$$module$src$error$$;function $reportingBackoff$$module$src$error$$($work$jscomp$1$$){$reportingBackoff$$module$src$error$$=$exponentialBackoff$$module$src$exponential_backoff$$();return $reportingBackoff$$module$src$error$$($work$jscomp$1$$)}
function $tryJsonStringify$$module$src$error$$($value$jscomp$88$$){try{return JSON.stringify($value$jscomp$88$$)}catch($e$jscomp$19$$){return String($value$jscomp$88$$)}}var $detectedJsEngine$$module$src$error$$;
function $reportError$$module$src$error$$($error$jscomp$13$$,$opt_associatedElement$jscomp$1$$){try{var $isValidError$$;if($error$jscomp$13$$)if(void 0!==$error$jscomp$13$$.message)$error$jscomp$13$$=$duplicateErrorIfNecessary$$module$src$log$$($error$jscomp$13$$),$isValidError$$=!0;else{var $origError$$=$error$jscomp$13$$;$error$jscomp$13$$=Error($tryJsonStringify$$module$src$error$$($origError$$));$error$jscomp$13$$.origError=$origError$$}else $error$jscomp$13$$=Error("Unknown error");$isValidError$$||
!$getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().test||setTimeout(function(){var $opt_associatedElement$jscomp$1$$=Error("_reported_ Error reported incorrectly: "+$error$jscomp$13$$);throw $opt_associatedElement$jscomp$1$$;});if($error$jscomp$13$$.reported)return $error$jscomp$13$$;$error$jscomp$13$$.reported=!0;var $element$jscomp$40$$=$opt_associatedElement$jscomp$1$$||$error$jscomp$13$$.associatedElement;$element$jscomp$40$$&&$element$jscomp$40$$.classList&&($element$jscomp$40$$.classList.add("i-amphtml-error"),
$getMode$$module$src$mode$$().development&&($element$jscomp$40$$.classList.add("i-amphtml-element-error"),$element$jscomp$40$$.setAttribute("error-message",$error$jscomp$13$$.message)));if(self.console){var $output$jscomp$2$$=console.error||console.log;$error$jscomp$13$$.messageArray?$output$jscomp$2$$.apply(console,$error$jscomp$13$$.messageArray):$element$jscomp$40$$?$output$jscomp$2$$.call(console,$error$jscomp$13$$.message,$element$jscomp$40$$):$getMode$$module$src$mode$$().minified?$output$jscomp$2$$.call(console,
$error$jscomp$13$$.message):$output$jscomp$2$$.call(console,$error$jscomp$13$$.stack)}$element$jscomp$40$$&&$element$jscomp$40$$.$dispatchCustomEventForTesting$&&$element$jscomp$40$$.$dispatchCustomEventForTesting$("amp:error",$error$jscomp$13$$.message);$reportErrorToServer$$module$src$error$$.call(void 0,void 0,void 0,void 0,void 0,$error$jscomp$13$$)}catch($errorReportingError$$){setTimeout(function(){throw $errorReportingError$$;})}return $error$jscomp$13$$}
function $reportErrorToServer$$module$src$error$$($message$jscomp$27$$,$filename$$,$line$$,$col$$,$error$jscomp$14$$){this&&this.document&&$makeBodyVisible$$module$src$style_installer$$(this.document);if(!($getMode$$module$src$mode$$().localDev||$getMode$$module$src$mode$$().development||$getMode$$module$src$mode$$().test)){var $hasNonAmpJs$$=!1;try{$hasNonAmpJs$$=$detectNonAmpJs$$module$src$error$$()}catch($ignore$jscomp$1$$){}if(!($hasNonAmpJs$$&&.01<Math.random())){var $data$jscomp$33$$=$getErrorReportData$$module$src$error$$($message$jscomp$27$$,
$filename$$,$line$$,$col$$,$error$jscomp$14$$,$hasNonAmpJs$$);$data$jscomp$33$$&&($maybeReportErrorToViewer$$module$src$error$$(this,$data$jscomp$33$$),$reportingBackoff$$module$src$error$$(function(){var $message$jscomp$27$$=new XMLHttpRequest;$message$jscomp$27$$.open("POST",$urls$$module$src$config$$.errorReporting,!0);$message$jscomp$27$$.send(JSON.stringify($data$jscomp$33$$))}))}}}
function $maybeReportErrorToViewer$$module$src$error$$($win$jscomp$70$$,$data$jscomp$34$$){var $ampdocService$$=$getService$$module$src$service$$($win$jscomp$70$$,"ampdoc");if($ampdocService$$.isSingleDoc()){var $ampdocSingle$$=$ampdocService$$.getAmpDoc(),$htmlElement$$=$ampdocSingle$$.getRootNode().documentElement,$docOptedIn$$=$htmlElement$$.hasAttribute("report-errors-to-viewer");if($docOptedIn$$){var $viewer$$=$getServiceForDocDeprecated$$module$src$service$$($ampdocSingle$$,"viewer");$viewer$$.hasCapability("errorReporter")?
$viewer$$.isTrustedViewer().then(function($win$jscomp$70$$){if(!$win$jscomp$70$$)return!1;$viewer$$.sendMessage("error",$data$jscomp$34$$);return!0}):Promise.resolve(!1)}else Promise.resolve(!1)}else Promise.resolve(!1)}
function $getErrorReportData$$module$src$error$$($JSCompiler_element$jscomp$inline_97_message$jscomp$28$$,$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$,$line$jscomp$1$$,$col$jscomp$1$$,$error$jscomp$15$$,$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$){var $expected$$=!1;$error$jscomp$15$$&&($JSCompiler_element$jscomp$inline_97_message$jscomp$28$$=$error$jscomp$15$$.message?$error$jscomp$15$$.message:String($error$jscomp$15$$),
$error$jscomp$15$$.expected&&($expected$$=!0));$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$||($JSCompiler_element$jscomp$inline_97_message$jscomp$28$$="Unknown error");if(!/_reported_/.test($JSCompiler_element$jscomp$inline_97_message$jscomp$28$$)&&"CANCELLED"!=$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$){var $detachedWindow$$=!(self&&self.window),$throttleBase$$=Math.random();if(-1!=$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$.indexOf("Failed to load:")||"Script error."==
$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$||$detachedWindow$$)if($expected$$=!0,.001<$throttleBase$$)return;var $isUserError$$=0<=$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$.indexOf("\u200b\u200b\u200b");if(!($isUserError$$&&.1<$throttleBase$$)){var $data$jscomp$35$$=Object.create(null);$data$jscomp$35$$.v=$getMode$$module$src$mode$$().rtvVersion;$data$jscomp$35$$.noAmp=$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$?
"1":"0";$data$jscomp$35$$.m=$JSCompiler_element$jscomp$inline_97_message$jscomp$28$$.replace("\u200b\u200b\u200b","");$data$jscomp$35$$.a=$isUserError$$?"1":"0";$data$jscomp$35$$.ex=$expected$$?"1":"0";$data$jscomp$35$$.dw=$detachedWindow$$?"1":"0";var $runtime$$="1p";self.context&&self.context.location?($data$jscomp$35$$["3p"]="1",$runtime$$="3p"):$getMode$$module$src$mode$$().runtime&&($runtime$$=$getMode$$module$src$mode$$().runtime);$data$jscomp$35$$.rt=$runtime$$;$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$=
self;$data$jscomp$35$$.ca=$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$.AMP_CONFIG&&$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.canary?"1":"0";$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$=self;$data$jscomp$35$$.bt=$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$.AMP_CONFIG&&
$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type?$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$.AMP_CONFIG.type:"unknown";self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&($data$jscomp$35$$.or=self.location.ancestorOrigins[0]);self.viewerState&&($data$jscomp$35$$.vs=self.viewerState);self.parent&&self.parent!=self&&($data$jscomp$35$$.iem="1");if(self.AMP&&
self.AMP.viewer){var $resolvedViewerUrl$$=self.AMP.viewer.getResolvedViewerUrl(),$messagingOrigin$$=self.AMP.viewer.maybeGetMessagingOrigin();$resolvedViewerUrl$$&&($data$jscomp$35$$.rvu=$resolvedViewerUrl$$);$messagingOrigin$$&&($data$jscomp$35$$.mso=$messagingOrigin$$)}$detectedJsEngine$$module$src$error$$||($detectedJsEngine$$module$src$error$$=$detectJsEngineFromStack$$module$src$error$$());$data$jscomp$35$$.jse=$detectedJsEngine$$module$src$error$$;var $exps$$=[];$JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$=
self.__AMP__EXPERIMENT_TOGGLES||null;for(var $exp$$ in $JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$)$exps$$.push($exp$$+"="+($JSCompiler_win$jscomp$inline_91_JSCompiler_win$jscomp$inline_93_experiments$jscomp$1_hasNonAmpJs$jscomp$1$$[$exp$$]?"1":"0"));$data$jscomp$35$$.exps=$exps$$.join(",");$error$jscomp$15$$?($data$jscomp$35$$.el=$error$jscomp$15$$.associatedElement?$error$jscomp$15$$.associatedElement.tagName:"u",$error$jscomp$15$$.args&&
($data$jscomp$35$$.args=JSON.stringify($error$jscomp$15$$.args)),$isUserError$$||$error$jscomp$15$$.ignoreStack||!$error$jscomp$15$$.stack||($data$jscomp$35$$.s=$error$jscomp$15$$.stack),$error$jscomp$15$$.message+=" _reported_"):($data$jscomp$35$$.f=$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$||"",$data$jscomp$35$$.l=$line$jscomp$1$$||"",$data$jscomp$35$$.c=$col$jscomp$1$$||"");$data$jscomp$35$$.r=self.document.referrer;$data$jscomp$35$$.ae=$accumulatedErrorMessages$$module$src$error$$.join(",");
$data$jscomp$35$$.fr=self.location.originalHash||self.location.hash;$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$=$accumulatedErrorMessages$$module$src$error$$;25<=$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$.length&&$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$.splice(0,$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$.length-25+1);$JSCompiler_array$jscomp$inline_98_filename$jscomp$1$$.push($JSCompiler_element$jscomp$inline_97_message$jscomp$28$$);return $data$jscomp$35$$}}}
function $detectNonAmpJs$$module$src$error$$(){for(var $scripts$jscomp$1$$=self.document.querySelectorAll("script[src]"),$i$jscomp$21$$=0;$i$jscomp$21$$<$scripts$jscomp$1$$.length;$i$jscomp$21$$++){var $JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$=$scripts$jscomp$1$$[$i$jscomp$21$$].src.toLowerCase();if("string"==typeof $JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$){$a$$module$src$url$$||
($a$$module$src$url$$=self.document.createElement("a"),$cache$$module$src$url$$=self.UrlCache||(self.UrlCache=new $LruCache$$module$src$utils$lru_cache$$(100)));var $JSCompiler_opt_cache$jscomp$inline_160$$=$cache$$module$src$url$$,$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$=$a$$module$src$url$$;if($JSCompiler_opt_cache$jscomp$inline_160$$&&$JSCompiler_opt_cache$jscomp$inline_160$$.has($JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$))$JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$=
$JSCompiler_opt_cache$jscomp$inline_160$$.get($JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$);else{$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.href=$JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$;$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.protocol||($JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.href=$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.href);
var $JSCompiler_info$jscomp$inline_162$$={href:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.href,protocol:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.protocol,host:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.host,hostname:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.hostname,port:"0"==$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.port?"":$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.port,
pathname:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.pathname,search:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.search,hash:$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.hash,origin:null};"/"!==$JSCompiler_info$jscomp$inline_162$$.pathname[0]&&($JSCompiler_info$jscomp$inline_162$$.pathname="/"+$JSCompiler_info$jscomp$inline_162$$.pathname);if("http:"==$JSCompiler_info$jscomp$inline_162$$.protocol&&80==$JSCompiler_info$jscomp$inline_162$$.port||
"https:"==$JSCompiler_info$jscomp$inline_162$$.protocol&&443==$JSCompiler_info$jscomp$inline_162$$.port)$JSCompiler_info$jscomp$inline_162$$.port="",$JSCompiler_info$jscomp$inline_162$$.host=$JSCompiler_info$jscomp$inline_162$$.hostname;$JSCompiler_info$jscomp$inline_162$$.origin=$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.origin&&"null"!=$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.origin?$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$.origin:
"data:"!=$JSCompiler_info$jscomp$inline_162$$.protocol&&$JSCompiler_info$jscomp$inline_162$$.host?$JSCompiler_info$jscomp$inline_162$$.protocol+"//"+$JSCompiler_info$jscomp$inline_162$$.host:$JSCompiler_info$jscomp$inline_162$$.href;$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$=$getMode$$module$src$mode$$().test&&Object.freeze?Object.freeze($JSCompiler_info$jscomp$inline_162$$):$JSCompiler_info$jscomp$inline_162$$;$JSCompiler_opt_cache$jscomp$inline_160$$&&$JSCompiler_opt_cache$jscomp$inline_160$$.put($JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$,
$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$);$JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$=$JSCompiler_a$jscomp$inline_161_JSCompiler_frozen$jscomp$inline_163$$}}if(!$urls$$module$src$config$$.cdnProxyRegex.test($JSCompiler_url$jscomp$inline_101_JSCompiler_url$jscomp$inline_145_JSCompiler_url$jscomp$inline_159$$.origin))return!0}return!1}
function $detectJsEngineFromStack$$module$src$error$$(){function $Fn$$(){}$Fn$$.prototype.t=function(){throw Error("message");};var $object$jscomp$1$$=new $Fn$$;try{$object$jscomp$1$$.t()}catch($e$jscomp$20$$){var $stack$$=$e$jscomp$20$$.stack;if($startsWith$$module$src$string$$($stack$$,"t@"))return"Safari";if(-1<$stack$$.indexOf(".prototype.t@"))return"Firefox";var $last$$=$stack$$.split("\n").pop();if(/\bat .* \(/i.test($last$$))return"IE";if($startsWith$$module$src$string$$($stack$$,"Error: message"))return"Chrome"}return"unknown"}
;function $restrictedVsync$$module$ads$inabox$util$$($win$jscomp$74$$,$task$$,$opt_state$$){$win$jscomp$74$$.requestAnimationFrame(function(){$task$$.measure&&$task$$.measure($opt_state$$);$task$$.mutate&&$task$$.mutate($opt_state$$)})}function $timer$$module$ads$inabox$util$$($callback$jscomp$75$$){var $timeMs$$=200;setTimeout($callback$jscomp$75$$,$timeMs$$)};function $layoutRectLtwh$$module$src$layout_rect$$($left$jscomp$3$$,$top$jscomp$2$$,$width$jscomp$12$$,$height$jscomp$11$$){return{left:$left$jscomp$3$$,top:$top$jscomp$2$$,width:$width$jscomp$12$$,height:$height$jscomp$11$$,bottom:$top$jscomp$2$$+$height$jscomp$11$$,right:$left$jscomp$3$$+$width$jscomp$12$$,x:$left$jscomp$3$$,y:$top$jscomp$2$$}}
function $layoutRectFromDomRect$$module$src$layout_rect$$($rect$$){return $layoutRectLtwh$$module$src$layout_rect$$(Number($rect$$.left),Number($rect$$.top),Number($rect$$.width),Number($rect$$.height))};function $centerFrameUnderVsyncMutate$$module$src$full_overlay_frame_helper$$($iframe$$,$iframeRect$$,$viewportSize$$){var $transitionTimeMs$$=150,$translateX$$=$viewportSize$$.width/2-$iframeRect$$.width/2-$iframeRect$$.left+"px",$translateY$$=$viewportSize$$.height/2-$iframeRect$$.height/2-$iframeRect$$.top+"px",$JSCompiler_temp_const$jscomp$32$$=$iframeRect$$.top+"px",$JSCompiler_temp_const$jscomp$31$$=$viewportSize$$.width-($iframeRect$$.left+$iframeRect$$.width)+"px",$JSCompiler_temp_const$jscomp$30$$=
$iframeRect$$.left+"px",$JSCompiler_temp_const$jscomp$29$$=$viewportSize$$.height-($iframeRect$$.top+$iframeRect$$.height)+"px",$JSCompiler_temp_const$jscomp$28$$=$iframeRect$$.height+"px",$JSCompiler_temp_const$jscomp$27$$=$iframeRect$$.width+"px",$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$;$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$=$translateX$$;var $JSCompiler_opt_y$jscomp$inline_104$$=$translateY$$;"number"==typeof $JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$&&
($JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$+="px");void 0===$JSCompiler_opt_y$jscomp$inline_104$$?$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$="translate("+$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$+")":("number"==typeof $JSCompiler_opt_y$jscomp$inline_104$$&&($JSCompiler_opt_y$jscomp$inline_104$$+="px"),$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$="translate("+$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$+
", "+$JSCompiler_opt_y$jscomp$inline_104$$+")");$setStyles$$module$src$style$$($iframe$$,{position:"fixed",top:$JSCompiler_temp_const$jscomp$32$$,right:$JSCompiler_temp_const$jscomp$31$$,left:$JSCompiler_temp_const$jscomp$30$$,bottom:$JSCompiler_temp_const$jscomp$29$$,height:$JSCompiler_temp_const$jscomp$28$$,width:$JSCompiler_temp_const$jscomp$27$$,transition:"transform "+$transitionTimeMs$$+"ms ease",transform:$JSCompiler_inline_result$jscomp$33_JSCompiler_x$jscomp$inline_103$$,margin:0})};function $module$ads$inabox$frame_overlay_helper$expandFrame$$($win$jscomp$75$$,$iframe$jscomp$3$$,$onFinish$$){$restrictedVsync$$module$ads$inabox$util$$($win$jscomp$75$$,{measure:function($onFinish$$){$onFinish$$.viewportSize={width:$win$jscomp$75$$.innerWidth,height:$win$jscomp$75$$.innerHeight};$onFinish$$.rect=$iframe$jscomp$3$$.getBoundingClientRect()},mutate:function($state$jscomp$1$$){var $collapsedRect$$=$layoutRectFromDomRect$$module$src$layout_rect$$($state$jscomp$1$$.rect),$expandedRect$$=
$layoutRectLtwh$$module$src$layout_rect$$(0,0,$state$jscomp$1$$.viewportSize.width,$state$jscomp$1$$.viewportSize.height);$centerFrameUnderVsyncMutate$$module$src$full_overlay_frame_helper$$($iframe$jscomp$3$$,$state$jscomp$1$$.rect,$state$jscomp$1$$.viewportSize);$timer$$module$ads$inabox$util$$(function(){$restrictedVsync$$module$ads$inabox$util$$($win$jscomp$75$$,{mutate:function(){$setStyles$$module$src$style$$($iframe$jscomp$3$$,{position:"fixed","z-index":1E3,left:0,right:0,top:0,bottom:0,width:"100vw",
height:"100vh",transition:null,transform:null,margin:0,border:0});$onFinish$$($collapsedRect$$,$expandedRect$$)}})})}},{})}
function $module$ads$inabox$frame_overlay_helper$collapseFrame$$($win$jscomp$76$$,$iframe$jscomp$4$$,$onFinish$jscomp$1$$,$onMeasure$$){$restrictedVsync$$module$ads$inabox$util$$($win$jscomp$76$$,{mutate:function(){$resetStyles$$module$src$style$$($iframe$jscomp$4$$);$onFinish$jscomp$1$$();$restrictedVsync$$module$ads$inabox$util$$($win$jscomp$76$$,{measure:function(){$onMeasure$$($layoutRectFromDomRect$$module$src$layout_rect$$($iframe$jscomp$4$$.getBoundingClientRect()))}})}})};function $FrameOverlayManager$$module$ads$inabox$frame_overlay_manager$$($win$jscomp$77$$){this.$win_$=$win$jscomp$77$$;this.$viewportChangedSinceExpand_$=this.$isExpanded_$=!1;this.$collapsedRect_$=null;$JSCompiler_StaticMethods_listenToViewportChanges_$$(this)}
function $JSCompiler_StaticMethods_listenToViewportChanges_$$($JSCompiler_StaticMethods_listenToViewportChanges_$self$$){$JSCompiler_StaticMethods_listenToViewportChanges_$self$$.$win_$.addEventListener("resize",function(){return $JSCompiler_StaticMethods_listenToViewportChanges_$self$$.onWindowResize()})}$FrameOverlayManager$$module$ads$inabox$frame_overlay_manager$$.prototype.onWindowResize=function(){this.$isExpanded_$&&(this.$viewportChangedSinceExpand_$=!0)};
$FrameOverlayManager$$module$ads$inabox$frame_overlay_manager$$.prototype.expandFrame=function($iframe$jscomp$5$$,$callback$jscomp$76$$){var $$jscomp$this$jscomp$2$$=this;$module$ads$inabox$frame_overlay_helper$expandFrame$$(this.$win_$,$iframe$jscomp$5$$,function($iframe$jscomp$5$$,$expandedRect$jscomp$1$$){$$jscomp$this$jscomp$2$$.$isExpanded_$=!0;$$jscomp$this$jscomp$2$$.$viewportChangedSinceExpand_$=!1;$$jscomp$this$jscomp$2$$.$collapsedRect_$=$iframe$jscomp$5$$;$callback$jscomp$76$$($expandedRect$jscomp$1$$)})};
$FrameOverlayManager$$module$ads$inabox$frame_overlay_manager$$.prototype.collapseFrame=function($iframe$jscomp$6$$,$callback$jscomp$77$$){var $$jscomp$this$jscomp$3$$=this;$module$ads$inabox$frame_overlay_helper$collapseFrame$$(this.$win_$,$iframe$jscomp$6$$,function(){$$jscomp$this$jscomp$3$$.$isExpanded_$=!1;$$jscomp$this$jscomp$3$$.$viewportChangedSinceExpand_$||$callback$jscomp$77$$($$jscomp$this$jscomp$3$$.$collapsedRect_$)},function($iframe$jscomp$6$$){$$jscomp$this$jscomp$3$$.$collapsedRect_$=
$iframe$jscomp$6$$;$$jscomp$this$jscomp$3$$.$viewportChangedSinceExpand_$&&$callback$jscomp$77$$($$jscomp$this$jscomp$3$$.$collapsedRect_$)})};function $Observable$$module$src$observable$$(){this.$handlers_$=null}$JSCompiler_prototypeAlias$$=$Observable$$module$src$observable$$.prototype;$JSCompiler_prototypeAlias$$.add=function($handler$jscomp$3$$){var $$jscomp$this$jscomp$4$$=this;this.$handlers_$||(this.$handlers_$=[]);this.$handlers_$.push($handler$jscomp$3$$);return function(){$$jscomp$this$jscomp$4$$.remove($handler$jscomp$3$$)}};
$JSCompiler_prototypeAlias$$.remove=function($handler$jscomp$4_index$jscomp$47$$){this.$handlers_$&&($handler$jscomp$4_index$jscomp$47$$=this.$handlers_$.indexOf($handler$jscomp$4_index$jscomp$47$$),-1<$handler$jscomp$4_index$jscomp$47$$&&this.$handlers_$.splice($handler$jscomp$4_index$jscomp$47$$,1))};$JSCompiler_prototypeAlias$$.removeAll=function(){this.$handlers_$&&(this.$handlers_$.length=0)};
$JSCompiler_prototypeAlias$$.fire=function($opt_event$$){if(this.$handlers_$)for(var $handlers$$=this.$handlers_$,$i$jscomp$23$$=0;$i$jscomp$23$$<$handlers$$.length;$i$jscomp$23$$++)(0,$handlers$$[$i$jscomp$23$$])($opt_event$$)};$JSCompiler_prototypeAlias$$.getHandlerCount=function(){return this.$handlers_$?this.$handlers_$.length:0};function $throttle$$module$src$utils$rate_limit$$($win$jscomp$78$$,$callback$jscomp$78$$){var $minInterval$$=100;function $fire$$($fire$$){$nextCallArgs$$=null;$locker$$=$win$jscomp$78$$.setTimeout($waiter$$,$minInterval$$);$callback$jscomp$78$$.apply(null,$fire$$)}function $waiter$$(){$locker$$=0;$nextCallArgs$$&&$fire$$($nextCallArgs$$)}var $locker$$=0,$nextCallArgs$$=null;return function($win$jscomp$78$$){for(var $callback$jscomp$78$$=[],$minInterval$$=0;$minInterval$$<arguments.length;++$minInterval$$)$callback$jscomp$78$$[$minInterval$$-
0]=arguments[$minInterval$$];$locker$$?$nextCallArgs$$=$callback$jscomp$78$$:$fire$$($callback$jscomp$78$$)}};function $PositionObserver$$module$ads$inabox$position_observer$$($JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$){this.$win_$=$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$;this.$positionObservable_$=null;var $JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$=this.$win_$;$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$=$JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$.document;
if($JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$.scrollingElement)$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$=$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$.scrollingElement;else{var $JSCompiler_temp$jscomp$137$$;if($JSCompiler_temp$jscomp$137$$=$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$.body)$JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$=$JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$.navigator.userAgent,
$JSCompiler_temp$jscomp$137$$=/WebKit/i.test($JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$)&&!/Edge/i.test($JSCompiler_ua$jscomp$inline_148_JSCompiler_win$jscomp$inline_110$$);$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$=$JSCompiler_temp$jscomp$137$$?$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$.body:$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$.documentElement}this.$scrollingElement_$=
$JSCompiler_doc$jscomp$inline_111_JSCompiler_temp$jscomp$136_win$jscomp$80$$;this.$viewportRect_$=null}
$PositionObserver$$module$ads$inabox$position_observer$$.prototype.observe=function($element$jscomp$41$$,$callback$jscomp$80$$){var $$jscomp$this$jscomp$5$$=this;if(!this.$positionObservable_$){this.$positionObservable_$=new $Observable$$module$src$observable$$;var $listener$jscomp$49$$=$throttle$$module$src$utils$rate_limit$$(this.$win_$,function(){$$jscomp$this$jscomp$5$$.$viewportRect_$=$$jscomp$this$jscomp$5$$.getViewportRect();$$jscomp$this$jscomp$5$$.$positionObservable_$.fire()});this.$viewportRect_$=
this.getViewportRect();this.$win_$.addEventListener("scroll",$listener$jscomp$49$$,!0);this.$win_$.addEventListener("resize",$listener$jscomp$49$$,!0)}$callback$jscomp$80$$({viewportRect:this.$viewportRect_$,targetRect:$layoutRectFromDomRect$$module$src$layout_rect$$($element$jscomp$41$$.getBoundingClientRect())});return this.$positionObservable_$.add(function(){$callback$jscomp$80$$({viewportRect:$$jscomp$this$jscomp$5$$.$viewportRect_$,targetRect:$layoutRectFromDomRect$$module$src$layout_rect$$($element$jscomp$41$$.getBoundingClientRect())})})};
$PositionObserver$$module$ads$inabox$position_observer$$.prototype.getViewportRect=function(){var $scrollingElement$$=this.$scrollingElement_$,$win$jscomp$81$$=this.$win_$,$scrollLeft$$=$scrollingElement$$.scrollLeft||$win$jscomp$81$$.pageXOffset,$scrollTop$$=$scrollingElement$$.scrollTop||$win$jscomp$81$$.pageYOffset;return $layoutRectLtwh$$module$src$layout_rect$$(Math.round($scrollLeft$$),Math.round($scrollTop$$),$win$jscomp$81$$.innerWidth,$win$jscomp$81$$.innerHeight)};function $serializeMessage$$module$src$3p_frame_messaging$$($type$jscomp$100$$,$sentinel$$,$data$jscomp$36_message$jscomp$29$$){var $rtvVersion$$;$data$jscomp$36_message$jscomp$29$$=void 0===$data$jscomp$36_message$jscomp$29$$?{}:$data$jscomp$36_message$jscomp$29$$;$rtvVersion$$=void 0===$rtvVersion$$?null:$rtvVersion$$;$data$jscomp$36_message$jscomp$29$$.type=$type$jscomp$100$$;$data$jscomp$36_message$jscomp$29$$.sentinel=$sentinel$$;return"amp-"+($rtvVersion$$||"")+JSON.stringify($data$jscomp$36_message$jscomp$29$$)}
;function $NamedObservable$$module$ads$inabox$inabox_messaging_host$$(){this.$map_$={}}$NamedObservable$$module$ads$inabox$inabox_messaging_host$$.prototype.listen=function($key$jscomp$39$$,$callback$jscomp$81$$){this.$map_$[$key$jscomp$39$$]=$callback$jscomp$81$$};
$NamedObservable$$module$ads$inabox$inabox_messaging_host$$.prototype.fire=function($key$jscomp$40$$,$thisArg$jscomp$1$$,$args$jscomp$4$$){return $key$jscomp$40$$ in this.$map_$?this.$map_$[$key$jscomp$40$$].apply($thisArg$jscomp$1$$,$args$jscomp$4$$):!1};
function $InaboxMessagingHost$$module$ads$inabox$inabox_messaging_host$$($win$jscomp$83$$,$iframes$$){this.$iframes_$=$iframes$$;this.$iframeMap_$=Object.create(null);this.$positionObserver_$=new $PositionObserver$$module$ads$inabox$position_observer$$($win$jscomp$83$$);this.$msgObservable_$=new $NamedObservable$$module$ads$inabox$inabox_messaging_host$$;this.$frameOverlayManager_$=new $FrameOverlayManager$$module$ads$inabox$frame_overlay_manager$$($win$jscomp$83$$);this.$msgObservable_$.listen("send-positions",
this.$handleSendPositions_$);this.$msgObservable_$.listen("full-overlay-frame",this.$handleEnterFullOverlay_$);this.$msgObservable_$.listen("cancel-full-overlay-frame",this.$handleCancelFullOverlay_$)}$JSCompiler_prototypeAlias$$=$InaboxMessagingHost$$module$ads$inabox$inabox_messaging_host$$.prototype;
$JSCompiler_prototypeAlias$$.processMessage=function($message$jscomp$32$$){var $JSCompiler_inline_result$jscomp$35_request$jscomp$5$$;var $JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$=$message$jscomp$32$$.data;if("string"==typeof $JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$&&0==$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$.indexOf("amp-")&&
-1!=$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$.indexOf("{")){var $JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$=$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$.indexOf("{");try{$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$=JSON.parse($JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$.substr($JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$))}catch($JSCompiler_e$jscomp$inline_119$$){$dev$$module$src$log$$().error("MESSAGING",
"Failed to parse message: "+$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$,$JSCompiler_e$jscomp$inline_119$$),$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$=null}}else $JSCompiler_inline_result$jscomp$35_request$jscomp$5$$=null;if(!$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$||!$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$.sentinel)return!1;a:if($JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$=
$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$.sentinel,this.$iframeMap_$[$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$])$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$=this.$iframeMap_$[$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$].measurableFrame;
else{for(var $JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$=this.getMeasureableFrame($message$jscomp$32$$.source),$JSCompiler_measurableWin$jscomp$inline_125$$=$JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$.contentWindow,$JSCompiler_i$jscomp$inline_126$$=0;$JSCompiler_i$jscomp$inline_126$$<this.$iframes_$.length;$JSCompiler_i$jscomp$inline_126$$++)for(var $JSCompiler_iframe$jscomp$inline_127$$=this.$iframes_$[$JSCompiler_i$jscomp$inline_126$$],
$JSCompiler_j$jscomp$inline_128$$=0,$JSCompiler_tempWin$jscomp$inline_129$$=$JSCompiler_measurableWin$jscomp$inline_125$$;10>$JSCompiler_j$jscomp$inline_128$$;$JSCompiler_j$jscomp$inline_128$$++,$JSCompiler_tempWin$jscomp$inline_129$$=$JSCompiler_tempWin$jscomp$inline_129$$.parent){if($JSCompiler_iframe$jscomp$inline_127$$.contentWindow==$JSCompiler_tempWin$jscomp$inline_129$$){this.$iframeMap_$[$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$]=
{iframe:$JSCompiler_iframe$jscomp$inline_127$$,measurableFrame:$JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$};$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$=$JSCompiler_measurableFrame$jscomp$inline_124_JSCompiler_startPos$jscomp$inline_118$$;break a}if($JSCompiler_tempWin$jscomp$inline_129$$==window.top)break}$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$=
null}return $JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$?this.$msgObservable_$.fire($JSCompiler_inline_result$jscomp$35_request$jscomp$5$$.type,this,[$JSCompiler_inline_result$jscomp$36_JSCompiler_message$jscomp$inline_117_JSCompiler_sentinel$jscomp$inline_123_iframe$jscomp$7$$,$JSCompiler_inline_result$jscomp$35_request$jscomp$5$$,$message$jscomp$32$$.source,$message$jscomp$32$$.origin])?!0:($dev$$module$src$log$$().warn("InaboxMessagingHost",
"Unprocessed AMP message:",$message$jscomp$32$$),!1):($dev$$module$src$log$$().info("InaboxMessagingHost","Ignored message from untrusted iframe:",$message$jscomp$32$$),!1)};
$JSCompiler_prototypeAlias$$.$handleSendPositions_$=function($iframe$jscomp$8$$,$request$jscomp$6$$,$source$jscomp$12$$,$origin$jscomp$1$$){var $viewportRect$$=this.$positionObserver_$.getViewportRect(),$targetRect$$=$layoutRectFromDomRect$$module$src$layout_rect$$($iframe$jscomp$8$$.getBoundingClientRect());$JSCompiler_StaticMethods_sendPosition_$$($request$jscomp$6$$,$source$jscomp$12$$,$origin$jscomp$1$$,$dict$$module$src$utils$object$$({viewportRect:$viewportRect$$,targetRect:$targetRect$$}));
this.$iframeMap_$[$request$jscomp$6$$.sentinel].observeUnregisterFn=this.$iframeMap_$[$request$jscomp$6$$.sentinel].observeUnregisterFn||this.$positionObserver_$.observe($iframe$jscomp$8$$,function($iframe$jscomp$8$$){return $JSCompiler_StaticMethods_sendPosition_$$($request$jscomp$6$$,$source$jscomp$12$$,$origin$jscomp$1$$,$iframe$jscomp$8$$)});return!0};
function $JSCompiler_StaticMethods_sendPosition_$$($request$jscomp$7$$,$source$jscomp$13$$,$origin$jscomp$2$$,$data$jscomp$38$$){$source$jscomp$13$$.postMessage($serializeMessage$$module$src$3p_frame_messaging$$("position",$request$jscomp$7$$.sentinel,$data$jscomp$38$$),$origin$jscomp$2$$)}
$JSCompiler_prototypeAlias$$.$handleEnterFullOverlay_$=function($iframe$jscomp$9$$,$request$jscomp$8$$,$source$jscomp$14$$,$origin$jscomp$3$$){this.$frameOverlayManager_$.expandFrame($iframe$jscomp$9$$,function($iframe$jscomp$9$$){$source$jscomp$14$$.postMessage($serializeMessage$$module$src$3p_frame_messaging$$("full-overlay-frame-response",$request$jscomp$8$$.sentinel,$dict$$module$src$utils$object$$({success:!0,boxRect:$iframe$jscomp$9$$})),$origin$jscomp$3$$)});return!0};
$JSCompiler_prototypeAlias$$.$handleCancelFullOverlay_$=function($iframe$jscomp$10$$,$request$jscomp$9$$,$source$jscomp$15$$,$origin$jscomp$4$$){this.$frameOverlayManager_$.collapseFrame($iframe$jscomp$10$$,function($iframe$jscomp$10$$){$source$jscomp$15$$.postMessage($serializeMessage$$module$src$3p_frame_messaging$$("cancel-full-overlay-frame-response",$request$jscomp$9$$.sentinel,$dict$$module$src$utils$object$$({success:!0,boxRect:$iframe$jscomp$10$$})),$origin$jscomp$4$$)});return!0};
$JSCompiler_prototypeAlias$$.getMeasureableFrame=function($win$jscomp$84$$){for(var $topXDomainWin$$,$iframes$jscomp$1_j$jscomp$1$$=0,$k$jscomp$5_tempWin$jscomp$1$$=$win$jscomp$84$$;10>$iframes$jscomp$1_j$jscomp$1$$&&$k$jscomp$5_tempWin$jscomp$1$$!=$k$jscomp$5_tempWin$jscomp$1$$.top&&!$canInspectWindow_$$module$ads$inabox$inabox_messaging_host$$($k$jscomp$5_tempWin$jscomp$1$$);$iframes$jscomp$1_j$jscomp$1$$++,$topXDomainWin$$=$k$jscomp$5_tempWin$jscomp$1$$,$k$jscomp$5_tempWin$jscomp$1$$=$k$jscomp$5_tempWin$jscomp$1$$.parent);
if($topXDomainWin$$)for(var $iframes$jscomp$1_j$jscomp$1$$=$topXDomainWin$$.parent.document.querySelectorAll("iframe"),$k$jscomp$5_tempWin$jscomp$1$$=0,$frame$$=$iframes$jscomp$1_j$jscomp$1$$[$k$jscomp$5_tempWin$jscomp$1$$];$k$jscomp$5_tempWin$jscomp$1$$<$iframes$jscomp$1_j$jscomp$1$$.length;$k$jscomp$5_tempWin$jscomp$1$$++,$frame$$=$iframes$jscomp$1_j$jscomp$1$$[$k$jscomp$5_tempWin$jscomp$1$$])if($frame$$.contentWindow==$topXDomainWin$$)return $frame$$;return $win$jscomp$84$$.frameElement};
$JSCompiler_prototypeAlias$$.unregisterIframe=function($iframe$jscomp$12$$){var $iframeIndex$$=this.$iframes_$.indexOf($iframe$jscomp$12$$);-1!=$iframeIndex$$&&this.$iframes_$.splice($iframeIndex$$,1);for(var $sentinel$jscomp$2$$ in this.$iframeMap_$)this.$iframeMap_$[$sentinel$jscomp$2$$].iframe==$iframe$jscomp$12$$&&(this.$iframeMap_$[$sentinel$jscomp$2$$].observeUnregisterFn&&this.$iframeMap_$[$sentinel$jscomp$2$$].observeUnregisterFn(),delete this.$iframeMap_$[$sentinel$jscomp$2$$])};
function $canInspectWindow_$$module$ads$inabox$inabox_messaging_host$$($win$jscomp$85$$){try{var $unused$$=!!$win$jscomp$85$$.location.href&&$win$jscomp$85$$.test;return!0}catch($unusedErr$$){return!1}};new function($win$jscomp$86$$){if($win$jscomp$86$$.ampInaboxInitialized)$dev$$module$src$log$$().info("inabox-host","Skip a 2nd attempt of initializing AMP inabox host.");else{$win$jscomp$86$$.ampInaboxInitialized=!0;$logConstructor$$module$src$log$$=$Log$$module$src$log$$;$dev$$module$src$log$$();$user$$module$src$log$$();$setReportError$$module$src$log$$();$win$jscomp$86$$.ampInaboxIframes&&!Array.isArray($win$jscomp$86$$.ampInaboxIframes)&&($dev$$module$src$log$$().info("inabox-host","Invalid ampInaboxIframes",
$win$jscomp$86$$.ampInaboxIframes),$win$jscomp$86$$.ampInaboxIframes=[]);var $host$$=new $InaboxMessagingHost$$module$ads$inabox$inabox_messaging_host$$($win$jscomp$86$$,$win$jscomp$86$$.ampInaboxIframes);$win$jscomp$86$$.AMP=$win$jscomp$86$$.AMP||{};$win$jscomp$86$$.AMP.inaboxUnregisterIframe?$dev$$module$src$log$$().info("inabox-host","win.AMP[inaboxUnregisterIframe] already defined}"):$win$jscomp$86$$.AMP.inaboxUnregisterIframe=$host$$.unregisterIframe.bind($host$$);var $queuedMsgs$$=$win$jscomp$86$$.ampInaboxPendingMessages;
$queuedMsgs$$&&(Array.isArray($queuedMsgs$$)?$queuedMsgs$$.forEach(function($win$jscomp$86$$){var $queuedMsgs$$=!(!$win$jscomp$86$$.source||!$win$jscomp$86$$.source.postMessage);$queuedMsgs$$||$user$$module$src$log$$().error("inabox-host","Missing message.source. message.data="+JSON.stringify($win$jscomp$86$$.data));if($queuedMsgs$$)try{$host$$.processMessage($win$jscomp$86$$)}catch($err$jscomp$4$$){$dev$$module$src$log$$().error("inabox-host","Error processing inabox message",$win$jscomp$86$$,$err$jscomp$4$$)}}):
$dev$$module$src$log$$().info("inabox-host","Invalid ampInaboxPendingMessages",$queuedMsgs$$));$win$jscomp$86$$.ampInaboxPendingMessages=[];$win$jscomp$86$$.ampInaboxPendingMessages.push=function(){};$win$jscomp$86$$.addEventListener("message",$host$$.processMessage.bind($host$$))}}(self);})();
//# sourceMappingURL=amp4ads-host-v0.js.map

