(self.AMP=self.AMP||[]).push({n:"amp-live-list",v:"1533591342461",f:(function(AMP,_){
var h;function l(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var e in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,e);f&&Object.defineProperty(a,e,f)}else a[e]=b[e]}function n(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var p=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function q(a){if(!a)return[];for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b};self.log=self.log||{user:null,dev:null,userForEmbed:null};var r=self.log;function t(){if(!r.user)throw Error("failed to call initLogConstructor");return r.user};function u(a,b){var c;if(a.__AMP__EXPERIMENT_TOGGLES)c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var e in a.AMP_CONFIG){var f=a.AMP_CONFIG[e];"number"===typeof f&&0<=f&&1>=f&&(c[e]=Math.random()<f)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(e=a.AMP_CONFIG["allow-doc-opt-in"],f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')))for(var f=
f.getAttribute("content").split(","),d=0;d<f.length;d++)-1!=e.indexOf(f[d])&&(c[f[d]]=!0);Object.assign(c,v(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){e=a.AMP_CONFIG["allow-url-opt-in"];f=a.location.originalHash||a.location.hash;a=Object.create(null);if(f)for(var g;g=p.exec(f);)d=n(g[1],g[1]),g=g[2]?n(g[2],g[2]):"",a[d]=g;for(f=0;f<e.length;f++)d=a["e-"+e[f]],"1"==d&&(c[e[f]]=!0),"0"==d&&(c[e[f]]=!1)}}var k=c;return!!k[b]}
function v(a){a:{var b;try{b=a.document.cookie}catch(g){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),e=c.indexOf("=");if(-1!=e&&"AMP_EXP"==n(c.substring(0,e).trim(),void 0)){a=c.substring(e+1).trim();a=n(a,a);break a}}a=null}var f=a,d=f?f.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<d.length;b++)0!=d[b].length&&("-"==d[b][0]?a[d[b].substr(1)]=!1:a[d[b]]=!0);return a};function w(a,b){a=a.__AMP_TOP||a;return x(a,b)}function y(a){a=z(a);a=A(a);return x(a,"viewer")}function z(a){return a.nodeType?w((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function A(a){a=z(a);return a.isSingleDoc()?a.win:a}function x(a,b){var c=B(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function B(a){var b=a.services;b||(b=a.services={});return b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var C;function D(a,b){b="> ["+b+"]";if(null==C){var c=a.ownerDocument;try{var e=c.createElement("div"),f=c.createElement("div");e.appendChild(f);C=e.querySelector(":scope div")===f}catch(d){C=!1}}C?a=a.querySelector(":scope "+b):(a.classList.add("i-amphtml-scoped"),e=a.querySelector(".i-amphtml-scoped "+b),a.classList.remove("i-amphtml-scoped"),a=e);return a};function F(){var a=0;return function(){var b=Math.pow(2,a++),b=b+G(b);return 1E3*b}}function G(a,b){b=b||.3;var c=a*b*Math.random();.5<Math.random()&&(c*=-1);return c};function H(a,b,c){this.win=a;this.W=b;this.R=c;this.H=null;this.D=!1;this.aa=this.B=null}function I(a){return a.B?a.B():a.W+G(a.W,.2)}H.prototype.isRunning=function(){return this.D};H.prototype.start=function(a){this.D||(this.D=!0,J(this,a))};H.prototype.stop=function(){this.D&&(this.D=!1,this.H&&(w(this.win,"timer").cancel(this.H),this.H=null))};
function J(a,b){if(a.D){var c=function(){a.aa=a.R().then(function(){a.B&&(a.B=null);J(a)}).catch(function(b){if(b.retriable)a.B||(a.B=F()),J(a);else throw b;})};b?c():a.H=w(a.win,"timer").delay(c,I(a))}};function K(a){var b=this;this.ampdoc=a;this.l=Object.create(null);this.P=y(this.ampdoc);this.Y=w(this.ampdoc.win,"extensions");this.M=15E3;this.S=[this.M];this.G=null;this.da=this.ampdoc.getUrl();this.I=0;this.R=this.Z.bind(this);this.ampdoc.whenReady().then(function(){b.M=Math.min.apply(Math,b.S);var a=Object.keys(b.l).map(function(a){return b.l[a].getUpdateTime()});b.I=Math.max.apply(Math,a);b.G=new H(b.ampdoc.win,b.M,b.R);b.P.isVisible()&&L(b)&&b.G.start();M(b)})}h=K.prototype;h.dispose=function(){this.G.stop()};
function L(a){return Object.keys(a.l).some(function(b){return a.l[b].isEnabled()})}h.Z=function(){var a=this.da;if(0<this.I){var b=encodeURIComponent("amp_latest_update_time")+"="+encodeURIComponent(String(this.I));if(b)var a=a.split("#",2),c=a[0].split("?",2),b=c[0]+(c[1]?"?"+c[1]+"&"+b:"?"+b),a=b+=a[1]?"#"+a[1]:""}return w(this.ampdoc.win,"xhr").fetchDocument(a,{requireAmpResponseSourceOrigin:!1}).then(this.$.bind(this))};
h.$=function(a){N(this,a);var b=Array.prototype.slice.call(a.getElementsByTagName("amp-live-list")),c=b.map(this.ca.bind(this)),e=Math.max.apply(Math,[0].concat(c));0<e&&(this.I=e);L(this)||this.G.stop()};h.ca=function(a){var b=a.getAttribute("id");t().assert(b,"amp-live-list must have an id.");t().assert(b in this.l,"amp-live-list#"+b+" found but did not exist on original page load.");var c=this.l[b];c.toggle(!a.hasAttribute("disabled"));return c.isEnabled()?c.update(a):0};
h.register=function(a,b){var c=!(a in this.l);c&&(this.l[a]=b,this.S.push(b.getInterval()))};function M(a){a.P.onVisibilityChanged(function(){a.P.isVisible()?a.G.start(!0):a.G.stop()})}function N(a,b){q(b.querySelectorAll("script[custom-element], script[custom-template]")).forEach(function(b){var c=b.getAttribute("custom-element")||b.getAttribute("custom-template");a.Y.installExtensionForDoc(a.ampdoc,c)})}
function O(a){var b=z(a),c=A(b),e=B(c),f=e.liveListManager;f||(f=e.liveListManager={obj:null,promise:null,resolve:null,context:null,ctor:null});f.ctor||f.obj||(f.ctor=K,f.context=b,f.resolve&&x(c,"liveListManager"));x(c,"liveListManager");a=z(a);a=A(a);return x(a,"liveListManager")};function P(a,b){return Math.max(parseInt(a,10)||0,b)}function Q(a){a=AMP.BaseElement.call(this,a)||this;a.j=null;a.T=null;a.O=null;a.c=null;a.K=null;a.J="";a.V=0;a.U=0;a.A=0;a.C=!1;a.h=Object.create(null);a.F=[];a.m=[];a.w=[];a.L=null;a.o=0;a.X=a.ba.bind(a);return a}l(Q,AMP.BaseElement);h=Q.prototype;h.isLayoutSupported=function(a){return"container"==a||"fixed-height"==a};
h.buildCallback=function(){this.j=this.getViewport();this.T=O(this.getAmpDoc());this.O=t().assert(D(this.element,"update"),'amp-live-list must have an "update" slot.');this.c=t().assert(D(this.element,"items"),'amp-live-list must have an "items" slot.');this.K=D(this.element,"pagination");this.J=t().assert(this.element.getAttribute("id"),"amp-live-list must have an id.");this.V=P(this.element.getAttribute("data-poll-interval"),15E3);var a=this.element.getAttribute("data-max-items-per-page");t().assert(0<
Number(a),"amp-live-list#"+this.J+" must have data-max-items-per-page attribute with numeric value. "+("Found "+a));var b=[].slice.call(this.c.children).filter(function(a){return!a.hasAttribute("data-tombstone")}).length;this.U=Math.max(P(a,1),b);u(this.win,"amp-live-list-sorting")&&(this.C="ascending"===this.element.getAttribute("sort"));this.T.register(this.J,this);R(this,!1);S(this.c,function(a){a.classList.add("amp-live-list-item")});this.o=T(this,this.c,!0);this.registerAction("update",this.N.bind(this),
100);this.element.hasAttribute("aria-live")||this.element.setAttribute("aria-live","polite")};h.isEnabled=function(){return!this.element.hasAttribute("disabled")};h.toggle=function(a){a?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")};h.activate=function(){this.N()};
h.update=function(a){var b=this,c=D(a,"items");if(!c)return this.A;T(this,c);var e=U(this,c);aa(this,e.insert);ba(this,e.replace);this.w.push.apply(this.w,e.tombstone);this.L=D(a,"pagination");0<this.F.length?this.mutateElement(function(){R(b,!0);b.j.updateFixedLayer()}):(0<this.m.length||0<this.w.length)&&this.N();return this.A};
h.N=function(){var a=this,b=0<this.F.length,c=0<this.w.length,e=0<this.m.length,f=b||e,d=this.mutateElement(function(){var e=t().assertElement(a.c);b&&(S(e,function(a){a.classList.remove("amp-live-list-item-new")}),a.o+=ca(a,a.F),a.F.length=0);0<a.m.length&&(da(e,a.m),a.m.length=0);0<a.w.length&&(a.o-=ea(e,a.w),a.w.length=0);(b||c)&&a.K&&a.L&&(a.element.replaceChild(a.L,a.K),a.K=D(a.element,"pagination"));R(a,!1);a.L=null;return fa(a,e)});f&&(d=d.then(function(){var b=a.win.document.createEvent("Event");
b.initEvent("amp:dom-update",!0,!0);a.c.dispatchEvent(b)}));b&&(d=d.then(function(){var b=a.C&&a.c.lastElementChild?a.c.lastElementChild:a.element,c=a.C?"bottom":"top";return a.j.animateScrollIntoView(b,500,"ease-in",c)}));return d};function R(a,b){a.O.classList.toggle("amp-hidden",!b);a.O.classList.toggle("amp-active",b)}
function ca(a,b){var c=0;b.forEach(function(b){if(0==a.c.childElementCount)a.c.appendChild(b);else{var e=V(b);if(a.C)for(var d=a.c.lastElementChild;d;d=d.previousElementSibling){var g=V(d);if(e>=g){d.nextElementSibling?a.c.insertBefore(b,d.nextElementSibling):a.c.appendChild(b);c++;break}else if(!d.previousElementSibling){a.c.insertBefore(b,d);c++;break}}else for(d=a.c.firstElementChild;d;d=d.nextElementSibling){var k=V(d);if(e>=k){a.c.insertBefore(b,d);c++;break}else if(!d.nextElementSibling){a.c.appendChild(b);
c++;break}}}});return c}function da(a,b){var c=0;b.forEach(function(b){var e=b.getAttribute("id"),d=a.querySelector("#"+e);d&&(a.replaceChild(b,d),c++)})}function ea(a,b){var c=0;b.forEach(function(b){b=b.getAttribute("id");if(b=a.querySelector("#"+b))b.setAttribute("data-tombstone",""),b.textContent="",c++});return c}
function fa(a,b){var c=a.o-a.U;if(1>c)return Promise.resolve();var e=[],f=[];if(a.C)for(var d=b.firstElementChild;d&&!(e.length>=c);d=d.nextElementSibling)W(d)||e.push(d);else for(d=b.lastElementChild;d&&!(e.length>=c);d=d.previousElementSibling)W(d)||e.push(d);return a.getVsync().runPromise({measure:function(){for(var b=0;b<e.length;b++){var c=e[b];if(a.C){if(!(a.j.getLayoutRect(c).bottom<a.j.getScrollTop()))break}else if(!(u(a.win,"layers")?0<a.j.getLayoutRect(c).top:a.j.getLayoutRect(c).top>a.j.getScrollTop()+
a.j.getSize().height))break;f.push(c)}},mutate:function(){f.forEach(function(c){b.removeChild(c);a.o--})}})}function aa(a,b){b.sort(a.X).forEach(function(a){a.classList.add("amp-live-list-item");a.classList.add("amp-live-list-item-new")});a.F.push.apply(a.F,b)}function ba(a,b){b.forEach(function(b){var c;a:{c=a.m;for(var f=0;f<c.length;f++)if(c[f].getAttribute("id")==b.getAttribute("id")){c=f;break a}c=-1}var d=c;b.classList.add("amp-live-list-item");-1==d?a.m.push(b):a.m[d]=b})}h.getInterval=function(){return this.V};
function U(a,b){var c=[],e=[],f=[];for(b=b.firstElementChild;b;b=b.nextElementSibling){var d=b.getAttribute("id"),g=a,k=b,m=k.getAttribute("id");if(k.hasAttribute("data-tombstone")||m in g.h)if(g=a,m=b,!m.hasAttribute("data-update-time")||m.hasAttribute("data-tombstone")?g=!1:(k=m.getAttribute("id"),m=X(m),g=k in g.h&&-1!=g.h[k]&&m>g.h[k]),g){var E=X(b);a.h[d]=E;d=a.win.document.importNode(b,!0);E>a.A&&(a.A=E);e.push(d)}else W(b)&&-1!=a.h[d]&&(a.h[d]=-1,f.push(b));else d=a.win.document.importNode(b,
!0),c.push(d),Y(a,b)}return{insert:c,replace:e,tombstone:f}}function W(a){return a.hasAttribute("data-tombstone")}function Y(a,b){var c=b.getAttribute("id");b=X(b);b>a.A&&(a.A=b);a.h[c]=b}h.ea=function(a){delete this.h[a]};
function T(a,b,c){var e=0,f=!1;S(b,function(b){b.hasAttribute("id")&&0<Number(b.getAttribute("data-sort-time"))?c&&Y(a,b):f=!0;e++});t().assert(!f,"All amp-live-list-items under amp-live-list#"+a.J+" children must have id and data-sort-time attributes. data-sort-time must be a Number greater than 0.");return e}function S(a,b){for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)}h.ba=function(a,b){return V(a)-V(b)};function V(a){return Z(a,"data-sort-time")}
function X(a){return a.hasAttribute("data-update-time")?Z(a,"data-update-time"):V(a)}function Z(a,b){var c=Number(a.getAttribute(b));t().assert(0<c,'"'+b+'" attribute must exist and value '+("must be a number greater than 0. Found "+c+" on ")+(a.getAttribute("id")+" instead."));return c}h.getUpdateTime=function(){return this.A};(function(a){a.registerElement("amp-live-list",Q,"amp-live-list>[update]{position:relative;z-index:1000}amp-live-list>.amp-active[update]{display:block}amp-live-list>[items]>[data-tombstone]{display:none}@-webkit-keyframes amp-live-list-item-highlight{0%{box-shadow:0 0 5px 2px #51cbee}to{box-shadow:0}}@keyframes amp-live-list-item-highlight{0%{box-shadow:0 0 5px 2px #51cbee}to{box-shadow:0}}\n/*# sourceURL=/extensions/amp-live-list/0.1/amp-live-list.css*/")})(self.AMP);
})});
//# sourceMappingURL=amp-live-list-0.1.js.map

