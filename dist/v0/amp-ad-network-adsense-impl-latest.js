(self.AMP=self.AMP||[]).push({n:"amp-ad-network-adsense-impl",v:"1533591342461",f:(function(AMP,_){
var g;function aa(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function q(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function u(a){var b=Object.create(null);if(!a)return b;for(var c;c=ba.exec(a);){var d=q(c[1],c[1]),e=c[2]?q(c[2],c[2]):"";b[d]=e}return b};var ca="";function x(a){var b=a||self,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;var d=u(c.location.originalHash||c.location.hash),e=u(c.location.search);ca||(ca=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011533591342461");c=b.AMP_MODE={localDev:!1,development:!("1"!=d.development&&!c.AMP_DEV_MODE),examiner:"2"==d.development,filter:d.filter,geoOverride:d["amp-geo"],minified:!0,lite:void 0!=e.amp_lite,test:!1,log:d.log,version:"1533591342461",rtvVersion:ca}}return c};var da=Object.prototype.toString;function ea(a){return"number"===typeof a&&isFinite(a)};function fa(a){var b=a.message,c=String(Math.random());a.message=c;if(a.message===c)return a.message=b,a;var b=Error(a.message),d;for(d in a)b[d]=a[d];b.stack=a.stack;return b}function ga(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=fa(e):(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function y(a){var b=ga.apply(null,arguments);setTimeout(function(){self.reportError(b);throw b;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};
var ha=self.log;function z(){if(!ha.user)throw Error("failed to call initLogConstructor");return ha.user}function B(){if(ha.dev)return ha.dev;throw Error("failed to call initLogConstructor");};var ia=Object.prototype.hasOwnProperty;function C(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function D(a){return a||{}};function la(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)}function ma(a){for(var b=a.length,c=5381,d=0;d<b;d++)c=33*c^a.charCodeAt(d);return String(c>>>0)};var E=self.AMP_CONFIG||{},na={thirdParty:E.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:E.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof E.thirdPartyFrameRegex?new RegExp(E.thirdPartyFrameRegex):E.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:E.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof E.cdnProxyRegex?new RegExp(E.cdnProxyRegex):E.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:E.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:E.localDev||!1};function oa(a){this.na=a;this.ba=this.o=0;this.X=Object.create(null)}oa.prototype.has=function(a){return!!this.X[a]};oa.prototype.get=function(a){var b=this.X[a];if(b)return b.access=++this.ba,b.payload};oa.prototype.put=function(a,b){this.has(a)||this.o++;this.X[a]={payload:b,access:this.ba};if(!(this.o<=this.na)){B().warn("lru-cache","Trimming LRU cache");a=this.X;var c=this.ba+1,d,e;for(e in a){var f=a[e].access;f<c&&(c=f,d=e)}void 0!==d&&(delete a[d],this.o--)}};D({c:!0,v:!0,a:!0,ad:!0});var pa,qa,ra=["javascript:","data:","vbscript:"];
function F(a,b){pa||(pa=self.document.createElement("a"),qa=self.UrlCache||(self.UrlCache=new oa(100)));var c=b?null:qa,d=pa;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=
d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;c&&c.put(a,e);a=e}return a}function sa(a,b){var c;if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}
function ta(a){var b=[],c;for(c in a){var d=a[c];if(null!=d)if(Array.isArray(d))for(var e=0;e<d.length;e++){var f=d[e];b.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}else b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")}function ua(a){"string"==typeof a&&(a=F(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function va(a,b){var c;c=void 0===c?"source":c;z().assert(null!=a,"%s %s must be available",b,c);var d=a;z().assert(ua(d)||/^(\/\/)/.test(d),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,d)}function wa(a){if(!a)return!0;"string"==typeof a&&(a=F(a));return!ra.includes(a.protocol)};function xa(a){return a.AMP_CONFIG&&a.AMP_CONFIG.type?a.AMP_CONFIG.type:"unknown"}function G(a,b){var c=ya(a);return!!c[b]}
function ya(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"],f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');
if(f){var l=f.getAttribute("content").split(",");for(c=0;c<l.length;c++)-1!=e.indexOf(l[c])&&(b[l[c]]=!0)}}Object.assign(b,za(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=u(a.location.originalHash||a.location.hash);for(var h=0;h<c.length;h++){var k=a["e-"+c[h]];"1"==k&&(b[c[h]]=!0);"0"==k&&(b[c[h]]=!1)}}return b}
function za(a){a:{var b;try{b=a.document.cookie}catch(l){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("=");if(-1!=d&&"AMP_EXP"==q(c.substring(0,d).trim(),void 0)){a=c.substring(d+1).trim();a=q(a,a);break a}}a=null}var e=a,f=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<f.length;b++)0!=f[b].length&&("-"==f[b][0]?a[f[b].substr(1)]=!1:a[f[b]]=!0);return a}
function Aa(a,b){a.experimentBranches=a.experimentBranches||{};var c={},d;for(d in b)if(ia.call(b,d))if(ia.call(a.experimentBranches,d))c[d]=a.experimentBranches[d];else if(!b[d].isTrafficEligible||!b[d].isTrafficEligible(a))a.experimentBranches[d]=null;else if(!a.experimentBranches[d]&&G(a,d)){var e=b[d].branches,f=e;a.experimentBranches[d]=f[Math.floor(Math.random()*f.length)]||null;c[d]=a.experimentBranches[d]}return c}function Ba(a,b){return a.experimentBranches?a.experimentBranches[b]:null};function Ca(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b}function Da(a){return new Promise(function(b){b(a())})};function Ea(a,b){if(a.nodeType){var c=Fa((a.ownerDocument||a).defaultView,b);if(c)return c}return H(a,b)}function Ga(a,b){var c=Ha(a);Fa(a,"url-replace");Ja(a,a,function(){return b});I(a,"url-replace")}function Fa(a,b){var c=Ha(a);return a!=c&&Ka(a,b)?I(a,b):null}function L(a,b){a=Ha(a);return I(a,b)}function H(a,b){a=N(a);a=O(a);return I(a,b)}function La(a,b){return Ma(O(a),b)}function Ha(a){return a.__AMP_TOP||a}
function N(a){return a.nodeType?L((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function O(a){a=N(a);return a.isSingleDoc()?a.win:a}function I(a,b){Ka(a,b);var c=P(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ja(a,b,c){var d=P(a),e=d["url-replace"];e||(e=d["url-replace"]={obj:null,promise:null,resolve:null,context:null,ctor:null});e.ctor||e.obj||(e.ctor=c,e.context=b,e.resolve&&I(a,"url-replace"))}
function Na(a,b){var c=Ma(a,b);if(c)return c;var d=new Ca,e=d,f=e.promise,e=e.resolve;P(a)[b]={obj:null,promise:f,resolve:e,context:null,ctor:null};return f}function Ma(a,b){var c=P(a)[b];if(c){if(c.promise)return c.promise;I(a,b);return c.promise=Promise.resolve(c.obj)}return null}function P(a){var b=a.services;b||(b=a.services={});return b}
function Oa(a){a=P(a);var b={},c;for(c in a)if(b.id=c,Object.prototype.hasOwnProperty.call(a,b.id)){var d=a[b.id];d.obj?Pa(b.id,d.obj):d.promise&&d.promise.then(function(a){return function(b){return Pa(a.id,b)}}(b));b={id:b.id}}}function Pa(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){B().error("SERVICE","failed to dispose service",a,c)}}function Ka(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ra=/(&|<|>|"|'|`)/g;function Sa(a,b,c){a=a.createElement(b);for(var d in c)a.setAttribute(d,c[d]);return a}function Ta(a,b){for(var c,d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function Ua(a){var b="A";if(a.closest)return a.closest(b);b=b.toUpperCase();return Ta(a,function(a){return a.tagName==b})}function Va(a){return a?a.replace(Ra,Wa):a}function Wa(a){return Qa[a]};function Xa(a,b,c){var d=N(a),e=La(a,b);return e?e:d.whenBodyAvailable().then(function(){var a;a=d.win;var b=d.getHeadNode(),e;if(b){e=[];for(var b=b.querySelectorAll("script[custom-element]"),k=0;k<b.length;k++)e.push(b[k].getAttribute("custom-element"))}else e=[];a=e.includes(c)?L(a,"extensions").waitForExtension(a,c):Promise.resolve();return a}).then(function(){var e=d.win;return e.ampExtendedElements&&e.ampExtendedElements[c]?Na(O(a),b):null})};function Ya(a){return Xa(a,"amp-analytics-instrumentation","amp-analytics")}function Q(a){a=N(a);a=O(a);return I(a,"documentInfo").get()}function Za(a){return L(a,"extensions")}function $a(a){return H(a,"resources")}function R(a){return H(a,"viewer")};function ab(a){for(var b=[],c=0;a&&1==a.nodeType&&25>c;){var d="";a.id&&(d="/"+a.id);var e=a.nodeName.toLowerCase();b.push(""+e+d+bb(a));c++;a=a.parentElement}return b.join()}function bb(a){for(var b=a.nodeName,c=0,d=0,e=a.previousElementSibling;e&&25>d&&100>c;)e.nodeName==b&&d++,c++,e=e.previousElementSibling;return 25>d&&100>c?"."+d:""};function cb(a){var b,c="AMP_ECID_GOOGLE",d="_ga",e=isNaN(b)||null==b?1E3:b,f=Na(O(a),"cid").then(function(a){if(a)return a.get({scope:c,createCookieIfNotPresent:!0,cookieName:d},Promise.resolve(void 0)).catch(function(a){B().error("AD-CID",a)})});return L(a.win,"timer").timeoutPromise(e,f,"cid timeout").catch(function(a){B().warn("AD-CID",a)})};var S;function db(a,b,c){var d=void 0,e=a,f=c,l;l=function(a){try{return f(a)}catch(m){throw self.reportError(m),m;}};var h=eb(),k=!1;d&&(k=d.capture);e.addEventListener(b,l,h?d:k);return function(){e&&e.removeEventListener(b,l,h?d:k);l=e=f=null}}function eb(){if(void 0!==S)return S;S=!1;try{var a={get capture(){S=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return S};function fb(a,b,c){var d=c,e=db(a,b,function(a){try{d(a)}finally{d=null,e()}});return e}function gb(a){var b,c;if(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)return Promise.resolve(a);var d=new Promise(function(d,f){var e=a.tagName;b="AUDIO"===e||"VIDEO"===e?fb(a,"loadstart",d):fb(a,"load",d);e&&(c=fb(a,"error",f))});return d.then(function(){c&&c();return a},function(){b&&b();var c=a;c&&c.src&&(c=c.src);throw z().createError("Failed to load:",c);})};function hb(a,b,c){return gb(a).then(function(){return ib(a,b,c)})}function ib(a,b,c){var d=a.performance&&a.performance.timing;if(d&&0!=d.navigationStart){var e=void 0===c?d[b]:d[c]-d[b];if(ea(e)&&!(0>e))return e}}function jb(a,b){var c=a.performance&&a.performance.navigation;if(c&&void 0!==c[b])return c[b]}function kb(a){this.ampdoc=a;this.R=this.S=void 0;this.A=Object.create(null);this.Y=!1;lb(this)}g=kb.prototype;g.initialize=function(){};
g.get=function(a){this.Y||(this.initialize(),this.Y=!0);return this.A[a]};g.set=function(a,b){this.A[a]=this.A[a]||{sync:void 0,async:void 0};this.A[a].sync=b;this.R=this.S=void 0;return this};g.setAsync=function(a,b){this.A[a]=this.A[a]||{sync:void 0,async:void 0};this.A[a].async=b;this.R=this.S=void 0;return this};g.setBoth=function(a,b,c){return this.set(a,b).setAsync(a,c)};
g.getExpr=function(a,b,c){var d=this;this.Y||(this.initialize(),this.Y=!0);var e=a?Object.keys(a):null;if(e&&0<e.length){var f=Object.keys(this.A);e.forEach(function(a){void 0===d.A[a]&&f.push(a)});return mb(this,f,b,c)}this.S||b||(this.S=mb(this,Object.keys(this.A)));!this.R&&b&&(this.R=mb(this,Object.keys(this.A),b,c));return b?this.R:this.S};
function mb(a,b,c,d){lb(a)&&(b=b.filter(function(b){return lb(a).includes(b)}));d&&(b=b.filter(function(a){return d[a]}));b.sort(function(a,b){return b.length-a.length});var e=b.map(function(a){return"$"===a[0]?"\\"+a:a}).join("|"),f="\\$?("+e+")";c||(f+="(?:\\(((?:\\s*[0-9a-zA-Z-_.]*\\s*(?=,|\\)),?)*)\\s*\\))?");return new RegExp(f,"g")}
function lb(a){if(a.fa)return a.fa;var b=a.ampdoc.getRootNode().head;if(!b)return null;b=b.querySelector('meta[name="amp-allowed-url-macros"]');if(!b)return null;a.fa=b.getAttribute("content").split(",").map(function(a){return a.trim()});return a.fa};var nb={"AMP-CAROUSEL":"ac","AMP-FX-FLYING-CARPET":"fc","AMP-LIGHTBOX":"lb","AMP-STICKY-AD":"sa"},ob={visible:"1",hidden:"2",prerender:"3",unloaded:"5"},T={name:"trunc",value:"1"},pb=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org((\/.*)|($))+/;
function qb(a,b){for(var c=a,d=c.element,c=c.win,e=a.getPageLayoutBox(),f=0;c!=c.parent&&100>f;)c=c.parent,f++;var l=f,h=rb(d),k=d.getAttribute("data-experiment-id");b&&(k=sb(b,k));return{adf:ma(ab(d)),nhd:l,eid:k,adx:e.left,ady:e.top,oid:"2",act:h.length?h.join():null}}
function tb(a,b){var c=a.win,d=a.getAmpDoc();return Promise.all([cb(d),R(d).getReferrerUrl()]).then(function(e){var f=e[0],l=Q(d);c.gaGlobal=c.gaGlobal||{cid:f,hid:l.pageViewId};var h=c.screen,k=H(d,"viewport"),n=k.getRect(),m=k.getSize(),w=R(d).getVisibilityState(),r=a.isXhrAllowed()?"3":"5",v=ub(c,d,f),p=c.gaGlobal.cid||null,t=c.gaGlobal.hid||null,A=n.width,J=n.height,M=h?h.availWidth:null,ja=h?h.availHeight:null,uc=h?h.colorDepth:null,vc=h?h.width:null,h=h?h.height:null,wc=-(new Date).getTimezoneOffset(),
Ia;try{Ia=c.history.length}catch(md){Ia=0}var xc=c!=c.top?m.width:null,yc=c!=c.top?m.height:null,X;X=vb(xa(c));X=pb.test(c.location.origin)&&"0"!=X?X:null;var zc=ob[w]||"0",Ac=k.getScrollLeft(),Bc=k.getScrollTop(),ka=0,K=c.document;c.SVGElement&&K.createElementNS&&(ka|=wb);K=K.createElement("iframe");K.sandbox&&K.sandbox.supports&&(K.sandbox.supports("allow-top-navigation-by-user-activation")&&(ka|=xb),K.sandbox.supports("allow-popups-to-escape-sandbox")&&(ka|=yb));return{is_amp:r,amp_v:"1533591342461",
d_imp:"1",c:v,ga_cid:p,ga_hid:t,dt:b,biw:A,bih:J,u_aw:M,u_ah:ja,u_cd:uc,u_w:vc,u_h:h,u_tz:wc,u_his:Ia,isw:xc,ish:yc,art:X,vis:zc,scr_x:Ac,scr_y:Bc,bc:ka||null,debug_experiment_id:(/(?:#|,)deid=([\d,]+)/i.exec(c.location.hash)||[])[1]||null,url:l.canonicalUrl,top:c!=c.top?zb(c):null,loc:c.location.href==l.canonicalUrl?null:c.location.href,ref:e[1]||null}})}
function Ab(a,b,c,d){var e=qb(a,d);return tb(a,b).then(function(a){Object.assign(c,e,a);var d=c,f=[],k=T&&null!=T.value&&""!==T.value?encodeURIComponent(T.name)+"="+encodeURIComponent(String(T.value)):null,n=16328;k&&(n-=k.length+1);for(var m=Object.keys(d),w=0;w<m.length;w++){var r=m[w],v=d[r];if(null!=v&&""!==v){var r=encodeURIComponent(r)+"=",v=encodeURIComponent(String(v)),p=r.length+v.length+1;if(p>n){(d=v.substr(0,n-r.length-1).replace(/%\w?$/,""))&&f.push(r+d);k&&f.push(k);break}f.push(r+v);
n-=p}}k=Date.now()-b;return(f.length?"https://googleads.g.doubleclick.net/pagead/ads?"+f.join("&"):"https://googleads.g.doubleclick.net/pagead/ads")+"&dtd="+(1E6<=k?"M":0<=k?k:"-M")})}function Bb(a){return(/^(?:https?:\/\/)?([^\/\?:]+)/i.exec(a)||[])[1]||a}
function zb(a){var b=a.location.ancestorOrigins;if(b){var c=a.location.origin,d=b[b.length-1];if(c==d)return a.top.location.hostname;var e=Cb(a);return e==a||c==b[b.length-2]?Bb(e.document.referrer):Bb(d)}try{return a.top.location.hostname}catch(f){}a=Cb(a);try{return Bb(a.document.referrer)}catch(f){}return null}function Cb(a){for(var b=0;a.parent!=a.parent.parent&&100>b;)a=a.parent,b++;return a}
function ub(a,b,c){if(!a.ampAdPageCorrelator){if(G(a,"exp-new-correlator"))b=Math.floor(4503599627370496*Math.random());else{var d=Q(b).pageViewId;b=c;d=Number(d||0);b=b?d+b.replace(/\D/g,"")%1E6*1E6:Math.floor(4503599627370496*Math.random())}a.ampAdPageCorrelator=b}return a.ampAdPageCorrelator}
function Db(a,b){var c,d,e,f,l,h;try{c=a.screenX,d=a.screenY}catch(k){}try{e=a.outerWidth,f=a.outerHeight}catch(k){}try{l=b.width,h=b.height}catch(k){}return[a.screenLeft,a.screenTop,c,d,a.screen?a.screen.availWidth:void 0,a.screen?a.screen.availTop:void 0,e,f,l,h].join()}function Eb(a,b){return D({on:a,request:"csi",sampleSpec:{sampleOn:"a4a-csi-${pageViewId}",threshold:1},selector:"amp-ad",selectionMethod:"closest",extraUrlParams:b})}
function Fb(a){if(!a.has("X-AmpAnalytics"))return null;try{var b=JSON.parse(a.get("X-AmpAnalytics")),c=b.url;if(!c.length)return null;for(var d={transport:{beacon:!1,xhrpost:!1},triggers:{continuousVisible:{on:"visible",visibilitySpec:{selector:"amp-ad",selectionMethod:"closest",visiblePercentageMin:50,continuousTimeMin:1E3}}}},e={},f=1;f<=c.length;f++)e["visibility"+f]=""+c[f-1];d.requests=e;d.triggers.continuousVisible.request=Object.keys(e);return d}catch(l){B().error("AMP-A4A","Invalid analytics",
l,a.get("X-AmpAnalytics"))}return null}function sb(a,b){var c=a.filter(function(a){return Number(a)}).join(",");b=b||"";return b+(b&&c?",":"")+c}function rb(a){var b={};a=a.parentElement;for(var c=0;a&&20>c;a=a.parentElement,c++){var d=a.tagName.toUpperCase();nb[d]&&(b[nb[d]]=!0)}return Object.keys(b)}function vb(a){return{production:"0",control:"1",canary:"2"}[a]||null}var Gb=/\.google\.(?:com?\.)?[a-z]{2,3}$/;
function Hb(a,b,c,d,e){c=void 0===c?1:c;e=void 0===e?Date.now():e;d=Ib(a,b,d);return L(a,"xhr").fetchJson(d,{mode:"cors",method:"GET",ampCors:!1,credentials:"include"}).then(function(a){return a.json()}).then(function(d){var f=d.newToken,h=d["1p_jar"]||"",k=d.pucrd||"",n=parseInt(d.freshLifetimeSecs||"",10),m=parseInt(d.validLifetimeSecs||"",10),w=d.altDomain,r=Date.now()-e;return Gb.test(w)?c--?Hb(a,b,c,w,e):{fetchTimeMs:r}:0<n&&0<m&&"string"==typeof f?{token:f,jar:h,pucrd:k,freshLifetimeSecs:n,
validLifetimeSecs:m,fetchTimeMs:r}:{fetchTimeMs:r}}).catch(function(){return{}})}function Ib(a,b,c){!c&&a!=a.top&&a.location.ancestorOrigins&&(c=(a=Gb.exec(a.location.ancestorOrigins[a.location.ancestorOrigins.length-1]))&&a[0]||void 0);c=c||".google.com";var d=Bb(Q(b).canonicalUrl);return"https://adservice"+c+"/adsid/integrator.json?domain="+d}var wb=1,xb=2,yb=4;function Jb(a){return a?a.split(","):[]}function Kb(a){return Jb(a.getAttribute("data-experiment-id")).some(function(a){return"117152632"===a})}function Lb(a){return a.every(function(a){return!isNaN(parseInt(a,10))})};function Mb(){}Mb.prototype.maybeSelectExperiment=function(a,b,c,d){var e={};e[d]={isTrafficEligible:function(){return!0},branches:c};Aa(a,e);return Ba(a,d)};new Mb;var Nb={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json",cloudflare:"https://amp.cloudflare.com/amp-ad-verifying-keyset.json","cloudflare-dev":"https://amp.cloudflare.com/amp-ad-verifying-keyset-dev.json"};var Ob,Pb="Webkit webkit Moz moz ms O o".split(" ");function Qb(a,b,c){if(la(b,"--"))return b;Ob||(Ob=C());var d=Ob[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<Pb.length;f++){var l=Pb[f]+e;if(void 0!==a[l]){e=l;break a}}e=""}var h=e;void 0!==a[h]&&(d=h)}c||(Ob[b]=d)}return d}function Rb(a,b){for(var c in b)a.style.setProperty(Qb(b,c),b[c].toString(),"important")}function U(a,b,c,d){(b=Qb(a.style,b,void 0))&&(a.style[b]=d?c+d:c)}
function Sb(a,b){for(var c in b)U(a,c,b[c])}function Tb(a,b){var c={};b.forEach(function(a){c[a]=null});Sb(a,c)};function Ub(a,b,c){Ya(a).then(function(d){d&&d.triggerEventForTarget(a,b,c)})};self.AMPErrors=self.AMPErrors||[];var Vb={isTrafficEligible:function(a){return!!a.document.querySelector("AMP-AUTO-ADS")},branches:["3782001","3782002"]};function Wb(a){Aa(a,{"amp-auto-ads-adsense-holdout":Vb});return Ba(a,"amp-auto-ads-adsense-holdout")||null};function Xb(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}};function Yb(){this.l=null}g=Yb.prototype;g.add=function(a){var b=this;this.l||(this.l=[]);this.l.push(a);return function(){b.remove(a)}};g.remove=function(a){this.l&&(a=this.l.indexOf(a),-1<a&&this.l.splice(a,1))};g.removeAll=function(){this.l&&(this.l.length=0)};g.fire=function(a){if(this.l)for(var b=this.l,c=0;c<b.length;c++)(0,b[c])(a)};g.getHandlerCount=function(){return this.l?this.l.length:0};var Zb={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0,"AMP-LIGHTBOX-GALLERY":!0};function $b(a){a=parseFloat(a);return ea(a)?a:void 0};function ac(a,b,c,d){var e=Date.now(),f=b.getAttribute("width"),l=b.getAttribute("height");d=d?d:{};d.width=$b(f);d.height=$b(l);b.getAttribute("title")&&(d.title=b.getAttribute("title"));var h=a.location.href;"about:srcdoc"==h&&(h=a.parent.location.href);var k=Q(b),f=R(b),n=f.getUnconfirmedReferrerUrl(),m=b.getPageLayoutBox(),l=d,w=na.thirdParty+"/1533591342461/ampcontext-v0.js",r=k.sourceUrl,v=k.canonicalUrl,p=k.pageViewId,t={href:h},A=b.tagName,J={localDev:!1,development:x(void 0).development,
filter:x(void 0).filter,minified:!0,lite:x(void 0).lite,test:!1,log:x(void 0).log,version:x(void 0).version,rtvVersion:x(void 0).rtvVersion},M=a;l._context=D({ampcontextVersion:"1533591342461",ampcontextFilepath:w,sourceUrl:r,referrer:n,canonicalUrl:v,pageViewId:p,location:t,startTime:e,tagName:A,mode:J,canary:!(!M.AMP_CONFIG||!M.AMP_CONFIG.canary),hidden:!f.isVisible(),initialLayoutRect:m?{left:m.left,top:m.top,width:m.width,height:m.height}:null,initialIntersection:b.getIntersectionChangeEntry(),
domFingerprint:ma(ab(b)),experimentToggles:ya(a),sentinel:c});var ja=b.getAttribute("src");ja&&(d.src=ja);return d};function bc(a){var b="nameframe",c=b||"frame";a.defaultBootstrapSubDomain=a.defaultBootstrapSubDomain||"d-"+cc(a);return"https://"+a.defaultBootstrapSubDomain+("."+na.thirdPartyFrameHost+"/1533591342461/")+(c+".html")}function cc(a){var b;if(a.crypto&&a.crypto.getRandomValues){var c=new Uint32Array(2);a.crypto.getRandomValues(c);b=String(c[0])+c[1]}else b=String(a.Math.random()).substr(2)+"0";return b};var dc=null,ec=null;function fc(a,b){void 0===a["3pla"]&&(a["3pla"]=0);a["3pla"]++;if(!dc){var c=new Ca;dc=c.promise;ec=c.resolve}L(a,"timer").timeoutPromise(1E3,b).catch(function(){}).then(function(){--a["3pla"]||(ec(),ec=dc=null)})};function gc(a,b){return Xa(a,"consentPolicyManager","amp-consent").then(function(a){return a?a.whenPolicyResolved(b):null})};var hc="AMPDOC_HOST AMPDOC_HOSTNAME AMPDOC_URL AMP_VERSION AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH BACKGROUND_STATE BROWSER_LANGUAGE CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH CANONICAL_URL CLIENT_ID COUNTER DOCUMENT_CHARSET DOCUMENT_REFERRER FIRST_CONTENTFUL_PAINT FIRST_VIEWPORT_READY MAKE_BODY_VISIBLE PAGE_VIEW_ID RANDOM SCREEN_COLOR_DEPTH SCREEN_HEIGHT SCREEN_WIDTH SCROLL_HEIGHT SCROLL_LEFT SCROLL_TOP SCROLL_WIDTH SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH SOURCE_URL TIMESTAMP TIMEZONE TIMEZONE_CODE TITLE TOTAL_ENGAGED_TIME USER_AGENT VARIANT VARIANTS VIEWER VIEWPORT_HEIGHT VIEWPORT_WIDTH".split(" ");
function ic(a,b){kb.call(this,a);this.qa=Ea(a,"url-replace").getVariableSource();this.B=b}aa(ic,kb);
ic.prototype.initialize=function(){var a=this;this.set("AD_NAV_TIMING",function(b,c){z().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return ib(a.B,b,c)}).setAsync("AD_NAV_TIMING",function(b,c){z().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return hb(a.B,b,c)});this.set("AD_NAV_TYPE",function(){return jb(a.B,"type")});this.set("AD_NAV_REDIRECT_COUNT",function(){return jb(a.B,"redirectCount")});this.set("HTML_ATTR",
this.ra.bind(this));for(var b=0;b<hc.length;b++){var c=hc[b],d=this.qa.get(c);this.set(c,d.sync).setAsync(c,d.async)}};
ic.prototype.ra=function(a,b){var c=20,d=10,e=10,f="A4AVariableSource",l=Array.prototype.slice.call(arguments,1);if(!a||!l.length)return"[]";if(l.length>e)return z().error(f,"At most "+e+" may be requested."),"[]";a=decodeURI(a);var h;try{h=this.B.document.querySelectorAll(a)}catch(p){return z().error(f,"Invalid selector: "+a),"[]"}if(h.length>c)return z().error(f,"CSS selector may match at most "+(c+" elements.")),"[]";for(var k=[],n=0;n<h.length&&k.length<d;++n){for(var m={},w=!1,r=0;r<l.length;++r){var v=
l[r];h[n].hasAttribute(v)&&(m[v]=h[n].getAttribute(v),w=!0)}w&&k.push(m)}return JSON.stringify(k)};function jc(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode(a);for(var b=new Uint8Array(a.buffer||a),c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);var e=c.join("");return decodeURIComponent(escape(e))}function kc(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b};function lc(a,b){this.B=a;this.sa=b;this.U=L(a,"crypto").isPkcsAvailable()?{}:null;this.ga=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now}lc.prototype.loadKeyset=function(a){if(this.U&&!this.U[a]){var b={},c=mc(this,b,a,null);this.U[a]={promise:c,keys:b}}};
lc.prototype.verify=function(a,b){var c=/^([A-Za-z0-9._-]+):([A-Za-z0-9._-]+):([A-Za-z0-9+/]{341}[AQgw]==)$/;if(!b.has("AMP-Fast-Fetch-Signature"))return Promise.resolve(1);var d=b.get("AMP-Fast-Fetch-Signature");b=c.exec(d);return b?this.verifyCreativeAndSignature(b[1],b[2],kc(atob(b[3])),a):(z().error("AMP-A4A","Invalid signature header: "+d.split(":")[0]),Promise.resolve(3))};
lc.prototype.verifyCreativeAndSignature=function(a,b,c,d){var e=this;if(!this.U)return Promise.resolve(4);var f=this.U[a];return f.promise.then(function(l){if(!l)return 1;var h=f.keys[b];return void 0===h?(f.promise=mc(e,f.keys,a,b).then(function(a){void 0===f.keys[b]&&(f.keys[b]=null);return a}),e.verifyCreativeAndSignature(a,b,c,d)):null===h?2:h.then(function(a){if(!a)return 1;var b=L(e.B,"crypto");return b.verifyPkcs(a,c,d).then(function(a){return a?0:3},function(a){a=a&&a.message;B().error("AMP-A4A",
"Failed to verify signature: "+a);return 1})})})};
function mc(a,b,c,d){var e=a.sa[c];null!=d&&(e+="?kid="+encodeURIComponent(d));return L(a.B,"xhr").fetchJson(e,{mode:"cors",method:"GET",ampCors:!1,credentials:"omit"}).then(function(d){d.headers.get("Content-Type");return d.json().then(function(d){if(!d||!Array.isArray(d.keys))return V(c,"Key set ("+JSON.stringify(d)+') has no "keys"'),!1;d.keys.forEach(function(d){d&&"string"==typeof d.kid?void 0===b[d.kid]&&(b[d.kid]=L(a.B,"crypto").importPkcsKey(d).catch(function(a){var b=JSON.stringify(d);V(c,
"Failed to import key ("+b+"): "+(a&&a.message));return null})):V(c,"Key ("+JSON.stringify(d)+') has no "kid"')});return!0},function(a){V(c,"Failed to parse JSON: "+(a&&a.response));return!1})},function(a){a&&a.response&&V(c,"Status code "+a.response.status);return!1})}function V(a,b){B().error("AMP-A4A","Signing service error for "+a+": "+b)};function nc(a,b,c){var d=!0,d=void 0===d?!1:d;c=void 0===c?!1:c;var e=a.ownerDocument,f=Sa(e,"amp-analytics",D({sandbox:"true",trigger:c?"":"immediate"})),l=Sa(e,"script",D({type:"application/json"}));l.textContent=JSON.stringify(b);f.appendChild(l);f.CONFIG=b;d?(b=Za(a.ownerDocument.defaultView),d=N(a),b.installExtensionForDoc(d,"amp-analytics")):Ya(a).then(function(){});a.appendChild(f);return f};function oc(){this.F=C();this.m=null}g=oc.prototype;g.get=function(a){return this.F[a]||null};g.whenSignal=function(a){var b=this.m&&this.m[a];if(!b){var c=this.F[a];null!=c?b={promise:"number"==typeof c?Promise.resolve(c):Promise.reject(c)}:(c=new Ca,b={promise:c.promise,resolve:c.resolve,reject:c.reject});this.m||(this.m=C());this.m[a]=b}return b.promise};
g.signal=function(a,b){if(null==this.F[a]){var c=b||Date.now();this.F[a]=c;(a=this.m&&this.m[a])&&a.resolve&&(a.resolve(c),a.resolve=void 0,a.reject=void 0)}};g.rejectSignal=function(a,b){null==this.F[a]&&(this.F[a]=b,(a=this.m&&this.m[a])&&a.reject&&(a.reject(b),a.resolve=void 0,a.reject=void 0))};g.reset=function(a){this.F[a]&&delete this.F[a];var b=this.m&&this.m[a];b&&!b.resolve&&delete this.m[a]};var pc=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],qc;function rc(a,b){sc(a,b)}
function tc(a,b,c,d){function e(){a.contentWindow.addEventListener("securitypolicyviolation",function(a){B().warn("FIE","security policy violation",a)})}var f=Ha(a.ownerDocument.defaultView),l=Za(f);U(a,"visibility","hidden");a.setAttribute("referrerpolicy","unsafe-url");c.extensionIds&&c.extensionIds.forEach(function(a){return l.preloadExtension(a)});var h=Cc(c);a.onload=function(){a.readyState="complete"};var k;void 0===qc&&(qc="srcdoc"in HTMLIFrameElement.prototype);if(qc)a.srcdoc=h,k=gb(a),b.appendChild(a),
e();else{a.src="about:blank";b.appendChild(a);var n=a.contentWindow.document;n.open();e();n.write(h);k=gb(a.contentWindow);n.close()}var m;m=Dc(a)?Promise.resolve():new Promise(function(b){var c=f.setInterval(function(){Dc(a)&&(b(),f.clearInterval(c))},5);k.catch(function(a){y(a)}).then(function(){b();f.clearInterval(c)})});return m.then(function(){var b=new Ec(a,c,k);a.__AMP_EMBED__=b;l.installExtensionsInChildWindow(a.contentWindow,c.extensionIds||[],d);Fc(b);return b})}
function Dc(a){a=a.contentWindow&&a.contentWindow.document;return!!(a&&"loading"!=a.readyState&&"uninitialized"!=a.readyState&&a.body&&a.body.firstChild)}
function Cc(a){var b=a.html,c=b.toUpperCase(),d=c.indexOf("<HEAD");-1!=d&&(d=c.indexOf(">",d+1)+1);-1==d&&(d=c.indexOf("<BODY"));-1==d&&(d=c.indexOf("<HTML"),-1!=d&&(d=c.indexOf(">",d+1)+1));var e=[];0<d&&e.push(b.substring(0,d));e.push('<base href="'+Va(a.url)+'">');a.fonts&&a.fonts.forEach(function(a){e.push('<link href="'+Va(a)+'" rel="stylesheet" type="text/css">')});e.push("<meta http-equiv=Content-Security-Policy content=\"script-src 'none';object-src 'none';child-src 'none'\">");0<d?e.push(b.substring(d)):
e.push(b);return e.join("")}function Ec(a,b,c){this.iframe=a;this.win=a.contentWindow;this.spec=b;this.host=b.host||null;this.ta=Date.now();this.aa=!1;this.la=new Yb;this.T=this.host?this.host.signals():new oc;this.ua=Promise.all([c,this.whenReady()])}g=Ec.prototype;g.destroy=function(){$a(this.iframe).removeForChildWindow(this.win);Oa(this.win)};g.getStartTime=function(){return this.ta};g.getUrl=function(){return this.spec.url};g.signals=function(){return this.T};g.whenReady=function(){return this.T.whenSignal("render-start")};
g.whenWindowLoaded=function(){return this.ua};g.whenIniLoaded=function(){return this.T.whenSignal("ini-load")};
function Fc(a){a.host?a.host.renderStarted():a.T.signal("render-start");U(a.iframe,"visibility","");a.win.document&&a.win.document.body&&(a.win.document.documentElement.classList.add("i-amphtml-fie"),Sb(a.win.document.body,{opacity:1,visibility:"visible",animation:"none"}));var b;b=a.host?a.host.getLayoutBox():Xb(0,0,a.win.innerWidth,a.win.innerHeight);Promise.all([a.whenReady(),Gc(a.iframe,a.win,b)]).then(function(){a.T.signal("ini-load")})}g.isVisible=function(){return this.aa};
g.onVisibilityChanged=function(a){return this.la.add(a)};function sc(a,b){a.aa!=b&&(a.aa=b,a.la.fire(a.aa))}g.getBodyElement=function(){return(this.iframe.contentDocument||this.iframe.contentWindow.document).body};function Hc(a,b){return $a(a.iframe).measureMutateElement(a.iframe,b.measure||null,b.mutate)}
g.enterFullOverlayMode=function(){var a=this,b=this.iframe.parentNode;z().assert("amp-ad"==b.tagName.toLowerCase(),"Only <amp-ad> is allowed to enter lightbox mode.");var c={background:"transparent",position:"absolute",bottom:"auto",right:"auto",top:"",left:"",width:"",height:""},d={position:"fixed",left:0,right:0,bottom:0,width:"100vw",top:0,height:"100vh"};return Hc(this,{measure:function(){var b=a.host?a.host.getLayoutBox():a.iframe.getBoundingClientRect(),d=-H(a.iframe,"viewport").getScrollTop(),
b=0==d||0==b.width&&0==b.height?b:Xb(b.left+0,b.top+d,b.width,b.height);Object.assign(c,{top:b.top+"px",left:b.left+"px",width:b.width+"px",height:b.height+"px"})},mutate:function(){Rb(a.iframe,d);Rb(a.getBodyElement(),c)}})};g.leaveFullOverlayMode=function(){var a=this;return Hc(this,{mutate:function(){Tb(a.iframe,"position left right top bottom width height".split(" "));Tb(a.getBodyElement(),"position top left width height bottom right".split(" "))}})};
function Gc(a,b,c){return $a(a).getResourcesInRect(b,c).then(function(a){var b=[];a.forEach(function(a){pc.includes(a.element.tagName)||b.push(a.loadedOnce())});return Promise.all(b)})};var Ic={ANCESTOR_ORIGIN:!0};function Jc(a){this.K=a}Jc.prototype.expand=function(a,b,c,d,e){if(!a.length)return d?a:Promise.resolve(a);e=this.K.getExpr(b,!0,e);e=Kc(a,e);return e.length?Lc(this,a,e,b,c,d):d?a:Promise.resolve(a)};function Kc(a,b){var c=[];a.replace(b,function(a,b,f){a=a.length;var d=a+f-1;c.push({start:f,stop:d,name:b,length:a})});return c}
function Lc(a,b,c,d,e,f){function l(){for(var p="",t=[];k<b.length&&n<=c.length;){if(m&&k===m.start){var A=void 0;d&&ia.call(d,m.name)?A={name:m.name,prioritized:d[m.name]}:(A=a.K.get(m.name),A.name=m.name);k=m.stop+1;m=c[++n];"("===b[k]?(k++,w++,h.push(A),p.trim().length&&t.push(p),t.push(l())):(p.length&&t.push(p),t.push(Mc(A,void 0,e,f)));p=""}else{if("`"===b[k])r?r=!1:(v=r=!0,z().assert(""===p.trim(),'The substring "'+p+'" was lost during url-replacement. Please ensure the url syntax is correct'),
p="");else if(w&&","===b[k]&&!r){if(p.length){var J=v?p:p.trim();t.push(J);v=!1}","===b[k+1]&&(t.push(""),k++);p=""}else{if(w&&")"===b[k]&&!r){k++;w--;var M=h.pop();t.push(v?p:p.trim());v=!1;return Mc(M,t,e,f)}p+=b[k]}k++}k===b.length&&p.length&&t.push(p)}return f?t.join(""):Promise.all(t).then(function(a){return a.join("")}).catch(function(a){y(a);return""})}var h=[],k=0,n=0,m=c[n],w=0,r=!1,v=!1;return l()}
function Mc(a,b,c,d){var e=a.name,f;a.prioritized?f=a.prioritized:d&&a.sync?f=a.sync:d?(z().error("Expander","ignoring async replacement key: ",a.name),f=""):f=a.async||a.sync;var l;if(d){d=f;try{var h="function"===typeof d?d.apply(null,b):d,k;h&&h.then?(z().error("Expander","ignoring async macro resolution"),k=""):k="string"===typeof h||"number"===typeof h?Ic[e]?h.toString():encodeURIComponent(h):"";c&&(c[e]=k);l=k}catch(n){y(n),c&&(c[e]=""),l=""}}else l=Nc(f,e,b,c);return l}
function Nc(a,b,c,d){var e;try{return e="function"===typeof a?c?Promise.all(c).then(function(b){return a.apply(null,b)}):Da(a):Promise.resolve(a),e.then(function(a){a=null==a?"":Ic[b]?a:encodeURIComponent(a);d&&(d[b]=a);return a}).catch(function(a){y(a);d&&(d[b]="");return Promise.resolve("")})}catch(f){return y(f),d&&(d[b]=""),Promise.resolve("")}};function Oc(a,b){this.ampdoc=a;this.K=b;this.oa=new Jc(this.K)}g=Oc.prototype;g.expandStringSync=function(a,b,c,d){return W(this,a,b,c,!0,d)};g.expandStringAsync=function(a,b){return W(this,a,b)};g.expandUrlSync=function(a,b,c,d){return Pc(a,W(this,a,b,c,!0,d))};g.expandUrlAsync=function(a,b,c){return W(this,a,b,void 0,void 0,c).then(function(b){return Pc(a,b)})};g.expandInputValueAsync=function(a){return Qc(this,a,!1)};g.expandInputValueSync=function(a){return Qc(this,a,!0)};
function Qc(a,b,c){"INPUT"==b.tagName&&b.getAttribute("type");var d=Rc(b);if(!d)return c?b.value:Promise.resolve(b.value);void 0===b["amp-original-value"]&&(b["amp-original-value"]=b.value);a=W(a,b["amp-original-value"]||b.value,void 0,void 0,c,d);return c?b.value=a:a.then(function(a){return b.value=a})}
function Rc(a,b){if(a=a.getAttribute("data-amp-replace")){var c={};a.trim().split(/\s+/).forEach(function(a){!b||ia.call(b,a)?c[a]=!0:z().warn("URL","Ignoring unsupported replacement",a)});return c}}
g.maybeExpandLink=function(a,b){var c={CLIENT_ID:!0,QUERY_PARAM:!0},d=a.getAttribute("data-amp-addparams")||"",e=Rc(a,c);if(e||d||b){var f=a["amp-original-href"]||a.getAttribute("href"),l=F(f);null==a["amp-original-href"]&&(a["amp-original-href"]=f);if(d)var h=u(d),f=sa(f,ta(h));a:if(h=Q(this.ampdoc),l.origin==F(h.canonicalUrl).origin||l.origin==F(h.sourceUrl).origin)l=!0;else{if((h=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&h.hasAttribute("content"))for(var h=
h.getAttribute("content").trim().split(/\s+/),k=0;k<h.length;k++)if(l.origin==F(h[k]).origin){l=!0;break a}l=!1}var n=l;if(!n)return e&&z().warn("URL","Ignoring link replacement",f," because the link does not go to the document's source, canonical, or whitelisted origin."),a.href=f;if(b){if(!e||!e.QUERY_PARAM){var m={QUERY_PARAM:!0};b=this.expandUrlSync(b,void 0,void 0,m)}l=u(b);f=sa(f,ta(l))}e&&(f=this.expandUrlSync(f,void 0,void 0,e));return a.href=f}};
function W(a,b,c,d,e,f){var l=G(a.ampdoc.win,"url-replacement-v2");if(l)return a.oa.expand(b,c,d,e,f);var h=a.K.getExpr(c),k,n=b.replace(h,function(b,h,l){var m=[];"string"==typeof l&&(m=l.split(/,\s*/));if(f&&!f[h])return b;var p;if(c&&h in c)p=c[h];else if(p=a.K.get(h))if(e){if(p=p.sync,!p)return z().error("UrlReplacements","ignoring async replacement key: ",h),""}else p=p.async||p.sync;var t;try{t="function"==typeof p?p.apply(null,m):p}catch(J){e&&(t=""),y(J)}if(t&&t.then){if(e)return z().error("UrlReplacements",
"ignoring promise value for key: ",h),"";var r=t.catch(function(a){y(a)}).then(function(a){n=n.replace(b,Ic[b]?a:null==a?"":encodeURIComponent(a));d&&(d[b]=a)});k=k?k.then(function(){return r}):r;return b}d&&(d[b]=t);return Ic[b]?t:null==t?"":encodeURIComponent(t)});k&&(k=k.then(function(){return n}));return e?n:k||Promise.resolve(n)}g.collectVars=function(a,b){var c=Object.create(null);return W(this,a,b,c).then(function(){return c})};
g.collectUnwhitelistedVarsSync=function(a){var b=a.getAttribute("src"),c=Object.create(null);this.expandStringSync(b,void 0,c);var d=Object.keys(c),e=Rc(a);return e?d.filter(function(a){return!e[a]}):d};function Pc(a,b){var c=F(b,!0).protocol,d=F(a,!0).protocol;if(c!=d)return z().error("UrlReplacements","Illegal replacement of the protocol: ",a),a;z().assert(wa(b),"The replacement url has invalid protocol: %s",b);return b}g.getVariableSource=function(){return this.K};var Sc=["<script amp-ad-metadata type=application/json>",'<script type="application/json" amp-ad-metadata>',"<script type=application/json amp-ad-metadata>"],Tc={CLIENT_CACHE:"client_cache",SAFEFRAME:"safeframe",NAMEFRAME:"nameframe",IFRAME_GET:"iframe_get"},Uc=D({frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"}),Vc={adRequestStart:"ad-request-start",adRequestEnd:"ad-response-end",renderFriendlyStart:"ad-render-start",renderCrossDomainStart:"ad-render-start",
renderSafeFrameStart:"ad-render-start",renderFriendlyEnd:"ad-render-end",renderCrossDomainEnd:"ad-render-end",friendlyIframeIniLoad:"ad-iframe-loaded",crossDomainIframeLoaded:"ad-iframe-loaded"};function Wc(a,b,c){return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];try{return a.apply(b,e)}catch(l){if(c)try{return e.unshift(l),c.apply(b,e)}catch(h){}}}}
function Y(a){a=AMP.BaseElement.call(this,a)||this;a.ia=null;a.H=null;a.N=0;a.j=null;a.J=null;a.uiHandler=null;a.C=null;a.ea=!1;a.O=null;a.D=null;a.G=null;a.I=a.getNonAmpCreativeRenderingMethod();a.ka=!1;a.ga=a.win.performance&&a.win.performance.now?a.win.performance.now.bind(a.win.performance):Date.now;var b;b=window;for(var c=0,d=b;d&&d!=d.parent;d=d.parent)c++;b=String(c)+"-"+cc(b);a.sentinel=b;a.da=!1;a.iframe=null;a.fromResumeCallback=!1;a.safeframeVersion="1-0-23";a.isRefreshing=!1;a.isRelayoutNeededFlag=
!1;a.va=vb(xa(a.win))||"-1";a.postAdResponseExperimentFeatures={};a.V=null;a.ma=null;a.isSinglePageStoryAd=!1;return a}aa(Y,AMP.BaseElement);g=Y.prototype;g.getLayoutPriority=function(){var a=!this.element.getAmpDoc().isSingleDoc();return a?1:2};g.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};g.isRelayoutNeeded=function(){return this.isRelayoutNeededFlag};
g.buildCallback=function(){var a=this;this.D={width:this.element.getAttribute("width"),height:this.element.getAttribute("height")};var b=Math.round(this.getResource().getUpgradeDelayMs());B().info("amp-a4a","upgradeDelay "+this.element.getAttribute("type")+": "+b);this.uiHandler=new AMP.AmpAdUIHandler(this);var c=Xc(this.win);this.ia=R(this.getAmpDoc()).whenFirstVisible().then(function(){a.getSigningServiceNames().forEach(function(a){c.loadKeyset(a)})});if(this.V=this.getA4aAnalyticsConfig())this.ma=
nc(this.element,this.V);this.isSinglePageStoryAd=this.element.hasAttribute("amp-story")};
g.renderOutsideViewport=function(){if(!this.ea&&this.win["3pla"]&&!this.inNonAmpPreferenceExp())return!1;var a;var b=this.element.getAttribute("data-loading-strategy");null==b?a=null:"prefer-viewability-over-views"==b||""==b?a=1.25:(a="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+b,b=z().assertNumber(parseFloat(b),a),z().assert(0<=b&&3>=b,a),a=b);var c=a;return null!==c?c:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};g.isValidElement=function(){return!0};
g.getCreativeSize=function(){return this.D};g.delayAdRequestEnabled=function(){return!1};g.getPreconnectUrls=function(){return[]};g.getPrefetchUrls=function(){return[]};g.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};g.preconnectCallback=function(){var a=this,b=this.getPreconnectUrls();b&&b.forEach(function(b){a.preconnect.url(b,!0)})};
g.resumeCallback=function(){if(!this.J){this.fromResumeCallback=!0;var a=this.getResource();if(a.hasBeenMeasured()&&!a.isMeasureRequested())this.onLayoutMeasure()}};g.getResource=function(){return this.element.getResources().getResourceForElement(this.element)};g.hasAdPromise=function(){return!!this.H};g.inNonAmpPreferenceExp=function(){return!!this.postAdResponseExperimentFeatures.pref_neutral_enabled&&["adsense","doubleclick"].includes(this.element.getAttribute("type"))};
function Yc(a){var b=a.getIntersectionElementLayoutBox();if("fluid"!=a.getLayout()&&(0==b.height||0==b.width))return!1;var b=a.win,c=!1,d=0,e=a.element;do{if(Zb[e.tagName])d++,c=!1;else{var f=(b.getComputedStyle(e)||C()).position;"fixed"!=f&&"sticky"!=f||(c=!0)}e=e.parentElement}while(e&&"BODY"!=e.tagName);return!c&&1>=d?a.isValidElement()?!0:(z().warn("amp-a4a",a.element.getAttribute("type"),"Amp ad element ignored as invalid",a.element),!1):(z().warn("amp-a4a","<"+a.element.tagName+"> is not allowed to be "+
("placed in elements with position:fixed: "+a.element)),!1)}g.onLayoutMeasure=function(){this.initiateAdRequest()};
g.initiateAdRequest=function(){var a=this;if(this.C)this.C.onLayoutMeasure();if(!this.H&&Yc(this)){++this.N;var b=this.verifyStillCurrent();this.H=R(this.getAmpDoc()).whenFirstVisible().then(function(){b();var c=a.delayAdRequestEnabled();if(c)return a.getResource().whenWithinViewport("number"==typeof c?c:a.renderOutsideViewport())}).then(function(){b();var c=AMP.BaseElement.prototype.getConsentPolicy.call(a);return c?gc(a.getAmpDoc(),c).catch(function(a){z().error("amp-a4a","Error determining consent state",
a);return 4}):Promise.resolve(null)}).then(function(c){b();return a.getAdUrl(c,Zc(a,c))}).then(function(c){b();a.j=c;return!a.isXhrAllowed()&&a.j?(a.I="iframe_get",Promise.reject("IFRAME-GET")):c&&a.sendXhrRequest(c)}).then(function(c){b();Z(a,"adRequestEnd");if(!c||!c.arrayBuffer||c.headers.has("amp-ff-empty-creative"))return a.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE");c.headers&&c.headers.has("amp-ff-exps")&&$c(a,c.headers.get("amp-ff-exps"));var d=a.getNonAmpCreativeRenderingMethod(c.headers.get("X-AmpAdRender"));
a.I=d;"nameframe"==a.I&&a.preconnect.preload(bc(a.win));var e=a.win.HTMLIFrameElement&&"sandbox"in a.win.HTMLIFrameElement.prototype;a.ka=e&&"true"==c.headers.get("amp-ff-sandbox");var f=c.headers.get("X-AmpSafeFrameVersion");/^[0-9-]+$/.test(f)&&"1-0-23"!=f&&(a.safeframeVersion=f,a.preconnect.preload(a.getSafeframePath()));return c.arrayBuffer().then(function(b){return 0==b.byteLength?(a.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE")):{bytes:b,headers:c.headers}})}).then(function(c){b();if(!c)return Promise.resolve();
var d=c,e=d.bytes,d=d.headers,f=a.extractSize(c.headers);a.D=f||a.D;"client_cache"!=a.I&&e&&(a.O=e);return a.maybeValidateAmpCreative(e,d)}).then(function(c){b();a.ea=!!c;return c&&jc(c)}).then(function(c){b();var d;if(!c||!(d=a.getAmpAdMetadata(c)))return a.inNonAmpPreferenceExp()&&a.updateLayoutPriority(0),null;a.updateLayoutPriority(0);var e=Za(a.win);d.customElementExtensions.forEach(function(a){return e.preloadExtension(a)});(d.customStylesheets||[]).forEach(function(b){return a.preconnect.preload(b.href)});
var f=Ea(a.getAmpDoc(),"url");(d.images||[]).forEach(function(b){return f.isSecure(b)&&a.preconnect.preload(b)});return d}).catch(function(b){switch(b.message||b){case "IFRAME-GET":case "NETWORK-FAILURE":return null;case "INVALID-SPSA-RESPONSE":case "NO-CONTENT-RESPONSE":return{minifiedCreative:"",customElementExtensions:[],customStylesheets:[]}}ad(a,b);return null})}};
g.maybeValidateAmpCreative=function(a,b){var c=this,d=this.verifyStillCurrent();return this.ia.then(function(){return"fake"!=c.element.getAttribute("type")||c.element.getAttribute("checksig")?Xc(c.win).verify(a,b):Promise.resolve(0)}).then(function(b){d();var e=null;switch(b){case 0:e=a;break;case 4:e=c.shouldPreferentialRenderWithoutCrypto()?a:null;break;case 2:case 3:z().error("amp-a4a",c.element.getAttribute("type"),"Signature verification failed")}if(c.isSinglePageStoryAd&&!e)throw Error("INVALID-SPSA-RESPONSE");
return e})};function $c(a,b){b.split(",").forEach(function(b){if(b){var c=b.split("=");2==c.length&&c[0]?a.postAdResponseExperimentFeatures[c[0]]=c[1]:B().warn("amp-a4a","invalid experiment feature "+b)}})}
g.refresh=function(a){var b=this;this.isRefreshing=!0;this.tearDownSlot();this.initiateAdRequest();var c=this.N;return this.H.then(function(){if(b.isRefreshing&&c==b.N)return b.mutateElement(function(){Ub(b.element,"ad-refresh");b.togglePlaceholder(!0);return L(b.win,"timer").promise(1E3).then(function(){b.isRelayoutNeededFlag=!0;b.getResource().layoutCanceled();R(b.getAmpDoc()).whenNextVisible().then(function(){$a(b.getAmpDoc()).requireLayout(b.element)})})});a()})};
function ad(a,b){var c,d=b;if(d&&("string"==typeof d?la(d,"CANCELLED"):"string"==typeof d.message&&la(d.message,"CANCELLED")))throw b;b=b&&b.message?fa(b):Error("unknown error "+b);c&&(b.ignoreStack=c);d=a.element.getAttribute("type")||"notype";0!=b.message.indexOf("amp-a4a: "+d+":")&&(b.message="amp-a4a: "+d+": "+b.message);a=a.j;!a||b.args&&b.args.au||(d=a.indexOf("?"),-1!=d&&((b.args||(b.args={})).au=a.substring(d+1,d+251)));x().development||x().log?z().error("amp-a4a",b):(z().warn("amp-a4a",b),
.01>Math.random()&&B().expectedError("amp-a4a",b))}g.layoutCallback=function(){this.isRefreshing&&this.destroyFrame(!0);return this.attemptToRenderCreative()};
g.attemptToRenderCreative=function(){var a=this;if(!this.H)return Yc(this)&&B().error("amp-a4a","Null promise in layoutCallback"),Promise.resolve();var b=this.verifyStillCurrent();return this.H.then(function(c){b();return a.da||a.iframe&&!a.isRefreshing?Promise.resolve():c?bd(a,c).catch(function(c){b();z().warn("amp-a4a",a.element.getAttribute("type"),"Error injecting creative in friendly frame",c);return a.renderNonAmpCreative()}):a.renderNonAmpCreative()}).catch(function(b){ad(a,b);throw Error("CANCELLED");
})};g.isXhrAllowed=function(){return!0};g.attemptChangeSize=function(a,b){this.G=this.G||this.getLayoutBox();return AMP.BaseElement.prototype.attemptChangeSize.call(this,a,b)};g.unlayoutCallback=function(){this.tearDownSlot();return!0};
g.tearDownSlot=function(){var a=this;this.N++;this.uiHandler.applyUnlayoutUI();this.G&&AMP.BaseElement.prototype.attemptChangeSize.call(this,this.G.height,this.G.width).then(function(){a.G=null}).catch(function(a){B().warn("amp-a4a","unable to revert to original size",a)});this.da=!1;this.destroyFrame();this.O=this.j=this.H=null;this.fromResumeCallback=this.ea=!1;this.I=this.getNonAmpCreativeRenderingMethod();this.postAdResponseExperimentFeatures={}};
g.destroyFrame=function(a){if((a=void 0===a?!1:a)||!this.isRefreshing)this.J&&(this.J.destroy(),this.J=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null),this.C&&(this.C.freeXOriginIframe(),this.C=null)};g.viewportCallback=function(a){this.J&&sc(this.J,a);this.C&&this.C.viewportCallback(a)};g.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};
g.getAdUrl=function(){throw Error("getAdUrl not implemented!");};g.resetAdUrl=function(){this.j=null};g.verifyStillCurrent=function(){var a=this,b=this.N;return function(){if(b!=a.N)throw Error("CANCELLED");}};g.extractSize=function(a){a=a.get("X-CreativeSize");if(!a)return null;var b=/^([0-9]+)x([0-9]+)$/.exec(a);return b?{width:Number(b[1]),height:Number(b[2])}:(z().error("amp-a4a","Invalid size header: "+a),null)};
g.forceCollapse=function(){this.isRefreshing?this.isRefreshing=!1:(this.G=this.G||this.getLayoutBox(),this.uiHandler.applyNoContentUI(),this.da=!0)};g.onCreativeRender=function(a){Z(this,a?"renderFriendlyEnd":"renderCrossDomainEnd")};g.onCrossDomainIframeCreated=function(a){B().info("amp-a4a",this.element.getAttribute("type"),"onCrossDomainIframeCreated "+a)};
g.sendXhrRequest=function(a){var b=this;Z(this,"adRequestStart");var c={mode:"cors",method:"GET",credentials:"include"};return L(this.win,"xhr").fetch(a,c).catch(function(a){if(a.response&&200<a.response.status)return null;var c=b.onNetworkFailure(a,b.j);if(c.frameGetDisabled)B().info("amp-a4a","frame get disabled as part of network failure handler"),b.resetAdUrl();else return b.j=c.adUrl||b.j,Promise.reject("NETWORK-FAILURE");return null})};g.onNetworkFailure=function(){return{}};
g.getSigningServiceNames=function(){return["google"]};
g.renderNonAmpCreative=function(a){var b=this;if("true"==this.element.getAttribute("disable3pfallback"))return z().warn("amp-a4a",this.element.getAttribute("type"),"fallback to 3p disabled"),Promise.resolve(!1);B().warn("amp-a4a","fallback to 3p");var c=this.I,d=Promise.resolve(!1);"safeframe"!=c&&"nameframe"!=c||!this.O?this.j?(va(this.j,this.element),d=cd(this,this.j)):z().warn("amp-a4a",this.element.getAttribute("type"),"No creative or URL available -- A4A can't render any ad"):(d=dd(this,this.O),
this.O=null);a||this.inNonAmpPreferenceExp()||fc(this.win,d);return d.then(function(a){Z(b,"crossDomainIframeLoaded");return a})};
function bd(a,b){Z(a,"renderFriendlyStart");a.iframe=Sa(a.element.ownerDocument,"iframe",D({height:a.D.height,width:a.D.width,frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"}));a.applyFillContent(a.iframe);var c=[];b.customStylesheets&&b.customStylesheets.forEach(function(a){(a=a.href)&&c.push(a)});var d=a.verifyStillCurrent();return tc(a.iframe,a.element,{host:a.element,url:a.j,html:b.minifiedCreative,extensionIds:b.customElementExtensions||[],fonts:c},function(b){var c=a.getAmpDoc(),
d=new ic(a.getAmpDoc(),b);Ga(b,new Oc(c,d))}).then(function(c){d();a.J=c;rc(c,a.isInViewport());var e=c.iframe.contentDocument||c.win.document;U(e.body,"visibility","visible");Wc(a.onCreativeRender,a,function(b){B().error("amp-a4a",a.element.getAttribute("type"),"Error executing onCreativeRender",b)})(b);return c.whenIniLoaded()}).then(function(){d();Z(a,"friendlyIframeIniLoad")})}
function ed(a,b){var c=Object.assign(b,D({height:a.D.height,width:a.D.width}));a.sentinel&&(c["data-amp-3p-sentinel"]=a.sentinel);a.ka&&(c.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation");G(a.win,"no-sync-xhr-in-ads")&&(c.allow="sync-xhr 'none';");a.iframe=Sa(a.element.ownerDocument,"iframe",Object.assign(c,Uc));a.C=new AMP.AmpAdXOriginIframeHandler(a);var d=a.C.init(a.iframe,!0);Wc(a.onCreativeRender,
a,function(b){B().error("amp-a4a",a.element.getAttribute("type"),"Error executing onCreativeRender",b)})(null);return d}function cd(a,b){Z(a,"renderCrossDomainStart");return ed(a,D({src:L(a.win,"xhr").getCorsUrl(a.win,b),name:JSON.stringify(ac(a.win,a.element,a.sentinel))}))}
function dd(a,b){var c=a.I;Z(a,"renderSafeFrameStart");var d=a.verifyStillCurrent();return Da(function(){return jc(b)}).then(function(b){d();var e,l="";switch(c){case "safeframe":e=a.getSafeframePath()+"?n=0";break;case "nameframe":e=bc(a.win);break;default:return z().error("A4A","A4A received unrecognized cross-domain name attribute iframe rendering mode request: %s.  Unable to render a creative for slot %s.",c,a.element.getAttribute("id")),Promise.reject("Unrecognized rendering mode request")}var h=
ac(a.win,a.element,a.sentinel,a.getAdditionalContextMetadata("safeframe"==c));"nameframe"==c?(h.creative=b,l=JSON.stringify(h)):"safeframe"==c&&(h=JSON.stringify(h),l=a.safeframeVersion+";"+b.length+";"+b+(""+h));return ed(a,D({src:e,name:l}))})}
g.getAmpAdMetadata=function(a){for(var b=-1,c,d=0;d<Sc.length&&!(c=Sc[d],b=a.lastIndexOf(c),0<=b);d++);if(0>b)return B().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate start index for amp meta data in: %s",a),null;var e=a.lastIndexOf("\x3c/script>");if(0>e)return B().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate closing script tag for amp meta data in: %s",a),null;try{var f=JSON.parse(a.slice(b+c.length,e)),l=f.ampRuntimeUtf16CharOffsets;if(!Array.isArray(l)||
2!=l.length||"number"!==typeof l[0]||"number"!==typeof l[1])throw Error("Invalid runtime offsets");var h={};if(f.customElementExtensions){if(h.customElementExtensions=f.customElementExtensions,!Array.isArray(h.customElementExtensions))throw Error("Invalid extensions",h.customElementExtensions);}else h.customElementExtensions=[];if(f.customStylesheets){h.customStylesheets=f.customStylesheets;var k="Invalid custom stylesheets";if(!Array.isArray(h.customStylesheets))throw Error(k);var n=Ea(this.getAmpDoc(),
"url");h.customStylesheets.forEach(function(a){if("[object Object]"!==da.call(a)||!a.href||"string"!==typeof a.href||!n.isSecure(a.href))throw Error(k);})}Array.isArray(f.images)&&(h.images=f.images.splice(0,5));if(this.isSinglePageStoryAd){if(!f.ctaUrl||!f.ctaType)throw Error("INVALID-SPSA-RESPONSE");this.element.setAttribute("data-vars-ctatype",f.ctaType);this.element.setAttribute("data-vars-ctaurl",f.ctaUrl)}h.minifiedCreative=a.slice(0,l[0])+a.slice(l[1],b)+a.slice(e+9);return h}catch(m){B().warn("amp-a4a",
this.element.getAttribute("type"),"Invalid amp metadata: %s",a.slice(b+c.length,e));if(this.isSinglePageStoryAd)throw m;return null}};g.getSafeframePath=function(){return"https://tpc.googlesyndication.com/safeframe/"+(this.safeframeVersion+"/html/container.html")};function Z(a,b){if(a.V){var c=Vc[b],d=Object.assign({time:Math.round(a.ga())},a.getA4aAnalyticsVars(c));Ub(a.element,c,d)}}g.getA4aAnalyticsVars=function(){return{}};g.getA4aAnalyticsConfig=function(){return null};
function Zc(a,b){if(AMP.RealTimeConfigManager)try{return(new AMP.RealTimeConfigManager(a)).maybeExecuteRealTimeConfig({},b)}catch(c){z().error("amp-a4a","Could not perform Real Time Config.",c)}else a.element.getAttribute("rtc-config")&&z().error("amp-a4a","RTC not supported for ad network "+a.element.getAttribute("type"))}g.shouldPreferentialRenderWithoutCrypto=function(){return!1};
g.getNonAmpCreativeRenderingMethod=function(a){if(a){var b;a:{for(b in Tc)if(Tc[b]===a){b=!0;break a}b=!1}if(b)return a;B().error("AMP-A4A","cross-origin render mode header "+a)}return L(this.win,"platform").isIos()?"nameframe":null};g.getAdditionalContextMetadata=function(){};function Xc(a){return a.AMP_FAST_FETCH_SIGNATURE_VERIFIER_||(a.AMP_FAST_FETCH_SIGNATURE_VERIFIER_=new lc(a,Nb))};function fd(a,b){var c=Ua(b.target);if(c&&c.href){var d=c.getAttribute("data-a4a-orig-href")||c.getAttribute("href");d&&(a=Ea(a,"url-replace").expandUrlSync(d,{CLICK_X:function(){return b.pageX},CLICK_Y:function(){return b.pageY}},void 0,{CLICK_X:!0,CLICK_Y:!0}),a!=d&&(c.getAttribute("data-a4a-orig-href")||c.setAttribute("data-a4a-orig-href",d),c.setAttribute("href",a)))}};function gd(){this.P=[]}gd.prototype.addNewSlot=function(a,b,c,d){var e={pv:2,prevFmts:"",prevSlotnames:""};this.P.forEach(function(a){e.prevFmts+=(e.prevFmts?",":"")+a.format;a.slotname&&(e.prevSlotnames+=(e.prevSlotnames?",":"")+a.slotname);a.client==c&&(e.pv=1)});this.P.push({id:b,format:a,client:c,slotname:d});return e};gd.prototype.removeSlot=function(a){this.P=this.P.filter(function(b){return b.id!=a})};gd.prototype.reset=function(){this.P=[]};var hd=new gd;function id(a){a=Y.call(this,a)||this;a.$=null;a.L=null;a.pa=Za(a.win);a.o=null;a.W=null;a.Z=null;a.ja=!1;a.M=null;a.ha=null;a.ca=null;return a}aa(id,Y);g=id.prototype;
g.isValidElement=function(){if("rspv"==this.M){if(!this.element.hasAttribute("data-full-width"))return z().warn("amp-ad-network-adsense-impl","Responsive AdSense ad units require the attribute data-full-width."),!1;var a=this.element.getAttribute("height"),b=this.element.getAttribute("width");if(320!=a)return z().warn("amp-ad-network-adsense-impl","Specified height "+a+" in <amp-ad> tag is not equal to the required height of 320 for responsive AdSense ad units."),!1;if("100vw"!=b)return z().warn("amp-ad-network-adsense-impl",
"Invalid width "+b+" for full-width responsive <amp-ad> tag. Width must be 100vw."),!1}return!!this.element.getAttribute("data-ad-client")&&this.isAmpAdElement()};g.delayAdRequestEnabled=function(){return!0};
g.buildCallback=function(){var a=this;Y.prototype.buildCallback.call(this);this.ha=R(this.getAmpDoc()).whenFirstVisible().then(function(){var b=a.win,d=a.getAmpDoc();b.goog_identity_prom=b.goog_identity_prom||Hb(b,d);return b.goog_identity_prom});this.M=this.element.getAttribute("data-auto-format")||"";if("rspv"==this.M){var b=this.getViewport().getSize();return this.attemptChangeSize(jd(b),b.width).catch(function(){})}this.divertExperiments()};g.getConsentPolicy=function(){return null};
g.divertExperiments=function(){var a=this,b={},b=(b["as-use-attr-for-format"]={isTrafficEligible:function(){return"rspv"!=a.M&&0<Number(a.element.getAttribute("width"))&&0<Number(a.element.getAttribute("height"))},branches:["21062003","21062004"]},b),c=Aa(this.win,b);Object.keys(c).forEach(function(b){b=c[b];var d=a.element;if(b){var f=d.getAttribute("data-experiment-id");f&&Lb(Jb(f))?d.setAttribute("data-experiment-id",sb([b],f)):d.setAttribute("data-experiment-id",b)}})};
g.getAdUrl=function(a){var b=this;if(4==a&&"true"!=this.element.getAttribute("data-npa-on-unknown-consent"))return z().info("amp-ad-network-adsense-impl","Ad request suppressed due to unknown consent"),Promise.resolve("");var c=Date.now(),d=this.win,e=this.element.getAttribute("data-ad-client"),e=e.toLowerCase();"ca-"!=e.substring(0,3)&&(e="ca-"+e);var f=this.element.getAttribute("data-adtest")||Kb(this.element),l=Number(this.element.getAttribute("width")),h=Number(this.element.getAttribute("height"));
this.o="21062004"==Ba(this.win,"as-use-attr-for-format")?{width:l,height:h}:this.getIntersectionElementLayoutBox();var l=this.o.width+"x"+this.o.height,h=this.element.getAttribute("data-amp-slot-index"),k=kd(this,l);this.$=h+k;var h=this.element.getAttribute("data-ad-slot"),n=hd.addNewSlot(l,this.$,e,h),m=this.getViewport().getSize();this.win.ampAdGoogleIfiCounter=this.win.ampAdGoogleIfiCounter||1;var w=rb(this.element),r=w.includes(nb["AMP-FX-FLYING-CARPET"])||w.includes(nb["AMP-STICKY-AD"]),v={client:e,
format:l,w:this.o.width,h:this.o.height,iu:h,npa:2==a||4==a?1:null,adtest:f?"on":null,adk:k,output:"html",bc:d.SVGElement&&d.document.createElementNS?"1":null,ctypes:ld(),host:this.element.getAttribute("data-ad-host"),hl:this.element.getAttribute("data-language"),to:this.element.getAttribute("data-tag-origin"),pv:n.pv,channel:this.element.getAttribute("data-ad-channel"),wgl:d.WebGLRenderingContext?"1":"0",asnt:this.sentinel,dff:(this.win.getComputedStyle(this.element)||C())["font-family"],prev_fmts:n.prevFmts||
null,prev_slotnames:n.prevSlotnames||null,brdim:Db(this.win,m),ifi:this.win.ampAdGoogleIfiCounter++,rc:this.fromResumeCallback?1:null,rafmt:"rspv"==this.M?13:null,pfx:r?"1":"0",crui:this.element.getAttribute("data-matched-content-ui-type"),cr_row:this.element.getAttribute("data-matched-content-rows-num"),cr_col:this.element.getAttribute("data-matched-content-columns-num"),pwprc:this.element.getAttribute("data-package")},p=[],t=Wb(this.win);t&&p.push(t);var A=L(this.win,"timer").timeoutPromise(1E3,
this.ha).catch(function(){return{}});return A.then(function(a){return Ab(b,c,Object.assign({adsid:a.token||null,jar:a.jar||null,pucrd:a.pucrd||null},v),p)})};g.onNetworkFailure=function(a,b){B().info("amp-ad-network-adsense-impl","network error, attempt adding of error parameter",a);a=(new RegExp("[?|&]("+encodeURIComponent(T.name)+"="+(encodeURIComponent(String(T.value))+"|aet=[^&]*)$"))).test(b)?void 0:b+"&aet=n";return{adUrl:a}};
g.extractSize=function(a){this.L=Fb(a);this.Z=a.get("X-QQID");this.L&&this.pa.installExtensionForDoc(this.getAmpDoc(),"amp-analytics");return this.o};function kd(a,b){a=a.element;b=(a.getAttribute("data-ad-slot")||"")+":"+b+":"+ab(a);return ma(b)}function ld(){var a;return null}g.isXhrAllowed=function(){return pb.test(this.win.location.origin)||!1||!1};
g.onCreativeRender=function(a){Y.prototype.onCreativeRender.call(this,a);this.ca=!!a;if(a&&!a.customElementExtensions.includes("amp-ad-exit")){var b=this.getAmpDoc();this.iframe.contentWindow.document.documentElement.addEventListener("click",fd.bind(null,b),!0)}if(this.L){var b=this.element.getAttribute("type"),c=this.win;if(("doubleclick"==b||"adsense"==b)&&G(c,"a4aProfilingRate")){var d=this.win,e=this.element,b=this.L,c=this.Z,f=!!a,l=ub(d,e);a=Number(e.getAttribute("data-amp-slot-index"));var h=
encodeURIComponent(e.getAttribute("data-experiment-id")),e=e.getAttribute("type"),k=Number(ib(d,"navigationStart")||Date.now()),d=Math.round(d.performance&&d.performance.now?d.performance.now():Date.now()-k),c="https://csi.gstatic.com/csi?s=a4a"+("&c="+l+"&slotId="+a+"&qqid."+a+"="+c)+("&dt="+k)+("null"!=h?"&e."+a+"="+h:"")+("&rls=1533591342461&adt."+a+"="+e),f=f?"Friendly":"CrossDomain";b.triggers.continuousVisibleIniLoad={on:"ini-load",selector:"amp-ad",selectionMethod:"closest",request:"iniLoadCsi"};
b.triggers.continuousVisibleRenderStart={on:"render-start",selector:"amp-ad",selectionMethod:"closest",request:"renderStartCsi"};b.requests.iniLoadCsi=c+("&met.a4a."+a+"=iniLoadCsi"+f+"."+d);b.requests.renderStartCsi=c+("&met.a4a."+a+"=renderStartCsi"+f+"."+d);b.requests.visibilityCsi=c+("&met.a4a."+a+"=visibilityCsi."+d);b.triggers.continuousVisible.request.push("visibilityCsi")}this.W=nc(this.element,this.L,!!this.postAdResponseExperimentFeatures.avr_disable_immediate)}Sb(this.iframe,{width:this.o.width+
"px",height:this.o.height+"px"})};g.unlayoutCallback=function(){if(this.ca)return!1;var a=Y.prototype.unlayoutCallback.call(this);this.element.setAttribute("data-amp-slot-index",this.win.ampAdSlotIdCounter++);this.$&&hd.removeSlot(this.$);if(this.W){var b=this.W;b.parentElement&&b.parentElement.removeChild(b);this.W=null}this.ca=this.Z=this.L=null;return a};
g.onLayoutMeasure=function(){var a=this;Y.prototype.onLayoutMeasure.call(this);if("rspv"==this.M&&!this.ja){this.ja=!0;var b=this.getLayoutBox();this.getVsync().run({measure:function(b){b.direction=(a.win.getComputedStyle(a.element.parentElement)||C()).direction},mutate:function(c){"rtl"==c.direction?U(a.element,"marginRight",b.left,"px"):U(a.element,"marginLeft",-b.left,"px")}},{direction:""})}};g.getPreconnectUrls=function(){this.preconnect.preload(bc(this.win));return["https://googleads.g.doubleclick.net"]};
g.getA4aAnalyticsVars=function(a){var b=this.Z,c=this.win,d=this.getAmpDoc(),e=R(d),f=c.performance&&c.performance.timing&&c.performance.timing.navigationStart||0,c={correlator:ub(c,d),slotId:this.element.getAttribute("data-amp-slot-index"),viewerLastVisibleTime:e.getLastVisibleTime()-f};b&&(c.qqid=b);"ad-render-start"==a&&(c.scheduleTime=this.element.layoutScheduleTime-f);return c};
g.getA4aAnalyticsConfig=function(){return D({requests:{csi:"https://csi.gstatic.com/csi?"},transport:{xhrpost:!1},triggers:{adRequestStart:Eb("ad-request-start",{"met.a4a":"afs_lvt.${viewerLastVisibleTime}~afs.${time}"}),adResponseEnd:Eb("ad-response-end",{"met.a4a":"afe.${time}"}),adRenderStart:Eb("ad-render-start",{"met.a4a":"ast.${scheduleTime}~ars_lvt.${viewerLastVisibleTime}~ars.${time}",qqid:"${qqid}"}),adIframeLoaded:Eb("ad-iframe-loaded",{"met.a4a":"ail.${time}"})},extraUrlParams:{s:"ampad",
ctx:"2",c:"${correlator}",slotId:"${slotId}",puid:"${requestCount}~${timestamp}"}})};function jd(a){var b=100,c=Math.min(300,a.height),d=Math.round(a.width/1.2);return Math.min(Math.max(d,b),c)}(function(a){a.registerElement("amp-ad-network-adsense-impl",id)})(self.AMP);
})});
//# sourceMappingURL=amp-ad-network-adsense-impl-0.1.js.map

