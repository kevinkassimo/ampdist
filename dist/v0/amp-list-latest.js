(self.AMP=self.AMP||[]).push({n:"amp-list",v:"1533591342461",f:(function(AMP,_){
function f(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};self.log=self.log||{user:null,dev:null,userForEmbed:null};var g=self.log;function k(){if(!g.user)throw Error("failed to call initLogConstructor");return g.user}function l(){if(g.dev)return g.dev;throw Error("failed to call initLogConstructor");};function m(){var a,b=Object.create(null);a&&Object.assign(b,a);return b};var n=self.AMP_CONFIG||{},p={thirdParty:n.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:n.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof n.thirdPartyFrameRegex?new RegExp(n.thirdPartyFrameRegex):n.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:n.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:n.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:n.localDev||!1};function q(a){this.O=a;this.B=this.G=0;this.w=Object.create(null)}q.prototype.has=function(a){return!!this.w[a]};q.prototype.get=function(a){var b=this.w[a];if(b)return b.access=++this.B,b.payload};q.prototype.put=function(a,b){this.has(a)||this.G++;this.w[a]={payload:b,access:this.B};if(!(this.G<=this.O)){l().warn("lru-cache","Trimming LRU cache");a=this.w;var c=this.B+1,d,e;for(e in a){var h=a[e].access;h<c&&(c=h,d=e)}void 0!==d&&(delete a[d],this.G--)}};var r={c:!0,v:!0,a:!0,ad:!0},t,u,v=/[?&]amp_js[^&]*/,w=/[?&]amp_gsa[^&]*/,x=/[?&]amp_r[^&]*/,y=/[?&]usqp[^&]*/;
function z(a){var b;t||(t=self.document.createElement("a"),u=self.UrlCache||(self.UrlCache=new q(100)));var c=b?null:u,d=t;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=
d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;c&&c.put(a,e);a=e}return a}function B(a){"string"==typeof a&&(a=z(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function aa(a,b){var c;c=void 0===c?"source":c;k().assert(null!=a,"%s %s must be available",b,c);var d=a;k().assert(B(d)||/^(\/\/)/.test(d),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,d);return d}
function C(a){"string"==typeof a&&(a=z(a));var b=a;"string"==typeof b&&(b=z(b));if(!p.cdnProxyRegex.test(b.origin))return a.href;var b=a.pathname.split("/"),c=b[1];k().assert(r[c],"Unknown path prefix in url %s",a.href);var d=b[2],e="s"==d?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(d);k().assert(0<e.indexOf("."),"Expected a . in origin %s",e);b.splice(1,"s"==d?3:2);b=e+b.join("/");c=(c=a.search)&&"?"!=c?(c=c.replace(v,"").replace(w,"").replace(x,"").replace(y,"").replace(/^[?&]/,
""))?"?"+c:"":"";return b+c+(a.hash||"")};function D(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function E(a,b,c){if(a.nodeType){var d=(a.ownerDocument||a).defaultView;if(d=d!=(d.__AMP_TOP||d)&&F(d,b)?G(d,b):null)return d}return!a.nodeType||c?H(a,b):null}function I(a,b){a=a.__AMP_TOP||a;return G(a,b)}function H(a,b){a=J(a);a=K(a);return G(a,b)}function J(a){return a.nodeType?I((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function K(a){a=J(a);return a.isSingleDoc()?a.win:a}
function G(a,b){F(a,b);var c=L(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function M(a){var b=N(a);if(b)return b;var c=new D,d=c,e=d.promise,d=d.resolve;L(a).bind={obj:null,promise:e,resolve:d,context:null,ctor:null};return e}function N(a){var b=L(a).bind;if(b){if(b.promise)return b.promise;G(a,"bind");return b.promise=Promise.resolve(b.obj)}return null}function L(a){var b=a.services;b||(b=a.services={});return b}
function F(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ba(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){var e=new d.MutationObserver(function(){b(a)&&(e.disconnect(),c())});e.observe(a,{childList:!0})}else var h=d.setInterval(function(){b(a)&&(d.clearInterval(h),c())},5)}}function ca(a,b){ba(a.documentElement,function(){return!!a.body},b)}function da(a){return new Promise(function(b){ca(a,b)})}function O(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
function P(a,b){for(var c=0,d;void 0!==(d=a[c]);c++)b(d,c)};function ea(a){var b=J(a),c=N(K(a));return c?c:b.whenBodyAvailable().then(function(){return Q(b.win,b.getHeadNode())}).then(function(){var c=b.win;return c.ampExtendedElements&&c.ampExtendedElements["amp-bind"]?M(K(a)):null})}function R(a){var b=E(a,"bind");return b?Promise.resolve(b):a.nodeType?(b=a.ownerDocument.defaultView,b!==(b.__AMP_TOP||b)?fa(b):ea(a)):Promise.resolve(null)}
function Q(a,b){var c;if(b){c=[];b=b.querySelectorAll("script[custom-element]");for(var d=0;d<b.length;d++)c.push(b[d].getAttribute("custom-element"))}else c=[];if(!c.includes("amp-bind"))return Promise.resolve();var e=I(a,"extensions");return e.waitForExtension(a,"amp-bind")}function fa(a){return da(a.document).then(function(){return Q(a,a.document.head)}).then(function(){return a.ampExtendedElements&&a.ampExtendedElements["amp-bind"]?M(a):null})};function ga(a){var b={bubbles:!0},c={detail:null};Object.assign(c,b);if("function"==typeof a.CustomEvent)return new a.CustomEvent("amp:dom-update",c);a=a.document.createEvent("CustomEvent");a.initCustomEvent("amp:dom-update",!!c.bubbles,!!c.cancelable,null);return a};self.AMPErrors=self.AMPErrors||[];function S(a,b,c){var d=this;this.L=I(a,"timer");this.R=b;this.P=c||0;this.m=-1;this.D=0;this.F=!1;this.N=function(){d.m=-1;d.D=0;d.F=!0;d.R();d.F=!1}}S.prototype.isPending=function(){return-1!=this.m};S.prototype.schedule=function(a){var b=a||this.P;this.F&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.D?(this.cancel(),this.D=c,this.m=this.L.delay(this.N,b),!0):!1};S.prototype.cancel=function(){this.isPending()&&(this.L.cancel(this.m),this.m=-1)};function ha(a,b,c,d){c=void 0===c?".":c;d=void 0===d?0:d;var e=aa(b.getAttribute("src"),b),h=E(a,"url-replace",!0),ia=1<=d?h.expandUrlAsync(e):Promise.resolve(e);return ia.then(function(c){if(1==d){var e=h.collectUnwhitelistedVarsSync(b);if(0<e.length)throw k().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+('Please add data-amp-replace="'+e.join(" ")+'" to the ')+("<"+b.tagName+"> element. See https://bit.ly/amp-var-subs."));}var A=
{};b.hasAttribute("credentials")?A.credentials=b.getAttribute("credentials"):A.requireAmpResponseSourceOrigin=!1;return I(a.win,"batched-xhr").fetchJson(c,A)}).then(function(a){return a.json()}).then(function(a){if(null==a)throw Error("Response is undefined.");var b;b=c||".";if("."!=b){b=b.split(".");for(var d=0;d<b.length;d++){var e=b[d];if(e&&a&&void 0!==a[e]&&(null==a||"object"!=typeof a?0:Object.prototype.hasOwnProperty.call(a,e)))a=a[e];else{a=void 0;break}}}b=a;return b})};var ja={"amp-list":["src","single-item","max-items"],"amp-form":["action-xhr"]};function T(a,b,c){this.M=b;this.j=c;this.S=new XMLSerializer;this.K=a}T.prototype.isSupported=function(){return this.M.canRenderTemplates()};T.prototype.fetchAndRenderTemplate=function(a){var b=ka(a),c=la(this,a);c.inputData=b;var d;this.j.maybeFindTemplate(a)&&(d=this.S.serializeToString(this.j.findTemplate(a)));return this.M.sendMessageAwaitResponse("viewerRenderTemplate",{data:c,mustacheTemplate:d,sourceAmpComponent:this.K})};
function ka(a){var b=a.querySelectorAll("input"),c=m();P(b,function(a){c[a.name]=a.value});return c}function la(a,b){var c=m();if(0<b.attributes.length){var d=ja[a.K];P(b.attributes,function(a){-1!=d.indexOf(a.name)&&(c[a.name]=a.value)})}return c};function U(a){var b;b=AMP.BaseElement.call(this,a)||this;b.h=null;b.H=!1;b.J=new S(b.win,function(){return ma(b)});b.l=null;b.j=I(b.win,"templates");b.C=!1;b.I=null;b.o=null;b.registerAction("refresh",function(){if(b.C)return V(b),W(b)},100);b.A=null;return b}f(U,AMP.BaseElement);U.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
U.prototype.buildCallback=function(){var a=this,b=H(this.getAmpDoc(),"viewer");this.A=new T("amp-list",b,this.j);this.I=this.element.getAttribute("src");this.h=this.win.document.createElement("div");this.applyFillContent(this.h,!0);this.element.appendChild(this.h);this.h.hasAttribute("role")||this.h.setAttribute("role","list");this.element.hasAttribute("aria-live")||this.element.setAttribute("aria-live","polite");R(this.element).then(function(b){a.o=b})};U.prototype.reconstructWhenReparented=function(){return!1};
U.prototype.layoutCallback=function(){this.C=!0;return W(this)};
U.prototype.mutatedAttributesCallback=function(a){l().info("amp-list","mutate:",a);var b=a.src,c=a.state;void 0!==b?"string"===typeof b?this.C&&(V(this),W(this)):"object"===typeof b?(this.element.setAttribute("src",""),V(this,!1),X(this,Array.isArray(b)?b:[b])):this.user().error("amp-list",'Unexpected "src" type: '+b):void 0!==c&&(k().error("amp-list","[state] is deprecated, please use [src] instead."),V(this,!1),X(this,Array.isArray(c)?c:[c]))};U.prototype.isLoadingReused=function(){return this.element.hasAttribute("reset-on-refresh")};
function Y(a,b){if(b||a.H)a.toggleFallback(b),a.H=b}function V(a,b){if((b=void 0===b?!0:b)&&a.element.hasAttribute("reset-on-refresh")||"always"===a.element.getAttribute("reset-on-refresh"))a.togglePlaceholder(!0),a.toggleLoading(!0,!0),a.mutateElement(function(){Y(a,!1);O(a.h)})}
function W(a){if(!a.element.getAttribute("src"))return Promise.resolve();if(a.A.isSupported())return na(a);var b=a.element.getAttribute("items")||"items";return oa(a,b).then(function(c){a.element.hasAttribute("single-item")&&(k().assert("undefined"!==typeof c,'Response must contain an array or object at "%s". %s',b,a.element),Array.isArray(c)||(c=[c]));k().assert(Array.isArray(c),'Response must contain an array at "%s". %s',b,a.element);var d=parseInt(a.element.getAttribute("max-items"),10);d<c.length&&
(c=c.slice(0,d));return X(a,c)},function(a){throw k().createError("Error fetching amp-list",a);}).catch(function(b){return Z(a,b)})}function na(a){return a.A.fetchAndRenderTemplate(a.element).then(function(b){var c=b.data;k().assert(b&&"undefined"!==typeof c,'Response missing the "data" field.');return X(a,c)},function(a){throw k().createError("Error proxying amp-list templates",a);}).catch(function(b){return Z(a,b)})}
function X(a,b){l().info("amp-list","schedule:",b);var c=new D,d=c.promise,e=c.resolve,h=c.reject;a.l||a.J.schedule();a.l={data:b,resolver:e,rejecter:h};return d}
function ma(a){function b(){d();e.rejecter()}function c(){d();e.resolver()}function d(){a.l!==e?a.J.schedule(1):a.l=null}var e=a.l;l().info("amp-list","pass:",e);a.A.isSupported()?a.j.findAndRenderTemplate(a.element,e.data).then(function(b){return a.h.appendChild(b)}).then(c,b):a.j.findAndRenderTemplateArray(a.element,e.data).then(function(b){return pa(a,b)}).then(function(b){return qa(a,b)}).then(c,b)}
function pa(a,b){function c(c){return c.scanAndApply(b,[a.h]).then(function(){return b},function(){return b})}var d=a.element.getAttribute("binding");return"no"===d?Promise.resolve(b):"refresh"===d?a.o&&a.o.signals().get("FIRST_MUTATE")?c(a.o):Promise.resolve(b):R(a.element).then(function(a){return a?c(a):Promise.resolve(b)})}
function qa(a,b){l().info("amp-list","render:",b);a.mutateElement(function(){a.toggleLoading(!1);a.getFallback()&&Y(a,!1);a.togglePlaceholder(!1);O(a.h);b.forEach(function(b){b.hasAttribute("role")||b.setAttribute("role","listitem");a.h.appendChild(b)});var c=ga(a.win);a.h.dispatchEvent(c);a.measureElement(function(){var b=a.h.scrollHeight;b>a.element.offsetHeight&&a.attemptChangeHeight(b).catch(function(){})})},a.h)}
function oa(a,b){var c=a.getAmpDoc(),d=a.element.getAttribute("src"),e=1;if(d==a.I||z(C(d)).origin==z(C(c.win.location)).origin)e=2;return ha(c,a.element,b,e)}function Z(a,b){a.toggleLoading(!1);if(a.getFallback())Y(a,!0),a.togglePlaceholder(!1);else throw b;}(function(a){a.registerElement("amp-list",U)})(self.AMP);
})});
//# sourceMappingURL=amp-list-0.1.js.map

